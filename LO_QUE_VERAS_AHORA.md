# 🎨 Lo Que Verás Ahora - Guía Visual

**Después de refrescar la página**

---

## 📱 En Sidebar (Fuentes de Contexto)

### DDU-ESP-009-07.pdf (Extraído con Flash)
```
┌────────────────────────────────────────┐
│ [ON] DDU-ESP-009-07.pdf        [⚙️][🗑️] │
│      📄 PDF  ✨ Flash                   │ ← Badge VERDE
│      "DDU 181 CIRCULAR ORD. Nº..."      │
│      💰 $0.0033 • 1,310 tokens         │ ← Costo Flash
└────────────────────────────────────────┘

Hover sobre "✨ Flash" muestra:
"Extraído con Flash (más económico - considera 
re-extraer con Pro para documentos críticos)"
```

### Documento Nuevo con Pro
```
┌────────────────────────────────────────┐
│ [ON] Nuevo-Doc.pdf             [⚙️][🗑️] │
│      📄 PDF  ✨ Pro                     │ ← Badge MORADO
│      "Este documento contiene..."       │
│      💰 $0.0169 • 1,450 tokens         │ ← Costo Pro
└────────────────────────────────────────┘

Hover sobre "✨ Pro" muestra:
"Extraído con Pro (mejor calidad)"
```

---

## 🔍 En Modal de Detalle

### Click en DDU-ESP-009-07.pdf (Flash)

```
┌──────────────────────────────────────────────┐
│ ⚙️ Configuración de Extracción          [X] │
│ DDU-ESP-009-07.pdf                           │
├──────────────────────────────────────────────┤
│ 📄 Fuente Original                           │
│ Archivo: DDU-ESP-009-07.pdf                  │
│ Tipo: pdf • 5,240 caracteres                 │
│ • ✨ Flash (badge verde con tooltip)         │ ← Badge
├──────────────────────────────────────────────┤
│ ⚠️ Extraído con Flash (modelo económico)    │ ← ADVERTENCIA
│ Para documentos críticos, considera          │
│ re-extraer con Pro para mayor precisión      │
│ en tablas y términos técnicos.              │
├──────────────────────────────────────────────┤
│ 📄 Archivo: DDU-ESP-009-07.pdf              │
│ 📅 Extraído: 15/10/2025                     │
│ Tamaño: N/A                                  │
│ Páginas: (si disponible)                     │
├──────────────────────────────────────────────┤
│ 📊 Uso de Tokens y Costo                    │
│              Modelo: ✨ Flash                │ ← Badge
│                                              │
│ Tokens Input          Tokens Output         │
│ 800                   510                    │
│                                              │
│ Total Tokens          Costo Total           │
│ 1,310                 $0.0033                │ ← Verde
│                                              │
│ Input: $0.0002 • Output: $0.0013            │
├──────────────────────────────────────────────┤
│ 💡 Comparación con Pro:                     │ ← COMPARACIÓN
│ Con Pro: ~$0.0135 (4.1x más caro,           │
│ mejor calidad)                               │
└──────────────────────────────────────────────┘
```

### Click en Documento Nuevo (Pro)

```
┌──────────────────────────────────────────────┐
│ ⚙️ Configuración de Extracción          [X] │
│ Nuevo-Doc.pdf                                │
├──────────────────────────────────────────────┤
│ 📄 Fuente Original                           │
│ Archivo: Nuevo-Doc.pdf                       │
│ Tipo: pdf • 5,500 caracteres                 │
│ • ✨ Pro (badge morado con tooltip)          │ ← Badge
├──────────────────────────────────────────────┤
│ 📄 Archivo: Nuevo-Doc.pdf                   │
│ 📅 Extraído: 15/10/2025                     │
│ Tamaño: 1.5 MB                              │
│ Páginas: 12                                  │
├──────────────────────────────────────────────┤
│ 📊 Uso de Tokens y Costo                    │
│              Modelo: ✨ Pro                  │ ← Badge
│                                              │
│ Tokens Input          Tokens Output         │
│ 850                   600                    │
│                                              │
│ Total Tokens          Costo Total           │
│ 1,450                 $0.0169                │ ← Morado
│                                              │
│ Input: $0.0011 • Output: $0.0060            │
├──────────────────────────────────────────────┤
│ ✨ Calidad Premium: Extraído con el modelo  │ ← CONFIRMACIÓN
│ más avanzado para máxima precisión.         │
└──────────────────────────────────────────────┘
```

---

## 🎯 Cómo Identificar Rápidamente

### En Lista de Fuentes
**Busca el badge:**
- 🟢 **Verde "Flash"** = Económico, posible upgrade
- 🟣 **Morado "Pro"** = Premium, mejor calidad

### En Tooltip (Hover)
**Flash dice:**
> "Extraído con Flash (más económico - considera re-extraer con Pro para documentos críticos)"

**Pro dice:**
> "Extraído con Pro (mejor calidad)"

### En Modal
**Flash muestra:**
- ⚠️ Advertencia amarilla
- 💡 Comparación de costo con Pro
- Sugerencia de re-extracción

**Pro muestra:**
- ✨ Confirmación morada
- Sin advertencias
- Sin comparaciones (ya es el mejor)

---

## 💰 Decisiones de Re-extracción

### Para Cada Documento Flash

**Pregúntate:**
1. ¿Es un documento crítico/legal? → **Re-extraer con Pro**
2. ¿Tiene tablas complejas? → **Re-extraer con Pro**
3. ¿Se usará frecuentemente? → **Re-extraer con Pro**
4. ¿Es solo referencia simple? → **Dejar con Flash**

**Costo por re-extracción:** ~$0.014 extra

**Beneficio:**
- Mejor precisión en términos técnicos
- Mejor interpretación de tablas
- Mayor confiabilidad
- Calidad "profesional"

---

## 🔄 Cómo Re-extraer con Pro

### Método: Upload Nuevo

1. **Elimina documento actual:**
   - Click 🗑️ al lado del documento Flash
   - Confirma eliminación

2. **Sube de nuevo:**
   - Click "+ Agregar"
   - Selecciona mismo archivo
   - **Verifica:** Pro está seleccionado ✓ (morado)
   - Upload

3. **Resultado:**
   - Nueva extracción con Pro
   - Badge morado "Pro"
   - Costo actualizado ($0.017 vs $0.003)
   - Mejor calidad

---

## 📊 Ejemplo Real: DDU-ESP-009-07.pdf

### Estado Actual (Flash)
```
Modelo: gemini-2.5-flash
Tiempo: 22.96s
Caracteres: 5,240
Tokens: 1,310
Costo: $0.0033

Calidad: Buena ✓
Advertencia: ⚠️ Considera Pro para docs críticos
```

### Si Re-extraes con Pro
```
Modelo: gemini-2.5-pro
Tiempo: ~45s (+22s)
Caracteres: ~5,500 (+260, más completo)
Tokens: ~1,450 (+140)
Costo: $0.0169 (+$0.0136, 5.1x más)

Calidad: Excelente ✨
Confirmación: ✨ Calidad Premium
```

**¿Vale la pena?**
- Si DDU-ESP-009 es documento regulatorio crítico → **SÍ**
- Si es solo para referencia ocasional → **Quizás no**

---

## 🎨 Colores y Significado

### Verde (Flash)
- **Significa:** Económico, rápido, buena calidad
- **Acción:** Evaluar si es suficiente
- **Upgrade:** Disponible si necesitas más

### Morado (Pro)
- **Significa:** Premium, lento, mejor calidad
- **Acción:** Ninguna, ya es lo mejor
- **Garantía:** Máxima precisión

### Amarillo (Advertencia Flash)
- **Significa:** Considera upgrade para docs críticos
- **Acción:** Opcional, evaluable
- **Decisión:** Basada en importancia del documento

---

## ✅ Todo Listo Para Testing

**Código:**
- ✅ Pro por defecto en todos lados
- ✅ Badges implementados
- ✅ Advertencias implementadas
- ✅ Comparaciones implementadas
- ✅ Compila sin errores

**Server:**
- ✅ Corriendo en :3000
- ✅ Responde correctamente
- ✅ Listo para uploads

**UI:**
- ✅ Indicadores visuales listos
- ✅ Tooltips explicativos
- ✅ Comparaciones automáticas
- ✅ Colores diferenciados

---

## 🚀 REFRESCA Y MIRA LOS CAMBIOS

```
1. Cmd + Shift + R (refresh)
2. Abre sidebar
3. Mira badges de modelo (verde/morado)
4. Click en documento
5. Ve advertencias y comparaciones
6. Upload nuevo → Verifica usa Pro
```

**¡Ahora tienes control total sobre modelo y costos!** 💪

