ğŸŒ Environment: Local Development
ğŸ“¦ Project: salfagpt
ğŸ”§ Initializing Firestore client...
ğŸ“¦ Project ID: salfagpt
ğŸŒ Environment: local
ğŸ—ï¸  Node ENV: development
âœ… Firestore client initialized successfully
ğŸ’¡ Local dev: Ensure you have run "gcloud auth application-default login"
ğŸ’¡ Production: Uses Workload Identity automatically

ğŸš€ SalfaGPT CLI - Batch Document Upload
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ Configuration:
   ğŸ“ Folder: /Users/alec/salfagpt/upload-queue/M3-v2-20251125
   ğŸ·ï¸  Tag: M3-v2-20251125
   ğŸ¤– Agent: vStojK73ZKbjNsEnqANJ
   ğŸ‘¤ User: usr_uhwqffaqag1wrryd82tw (alec@getaifactory.com)
   âš¡ Model: gemini-2.5-flash
   ğŸ”‘ Session: cli-upload-1764088587948-fw2gu0jbd

ğŸ“¦ Checking GCS bucket...
âœ… Bucket ready

ğŸ“‚ Scanning folder for PDFs...
âœ… Found 62 PDF files

ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_upload_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: undefined
}
ğŸ“Š [DEV] Would track CLI session: {
  command: 'upload --folder=/Users/alec/salfagpt/upload-queue/M3-v2-20251125 --tag=M3-v2-20251125 --agent=vStojK73ZKbjNsEnqANJ',
  user: 'alec@getaifactory.com',
  duration: undefined,
  events: 62
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 1 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-D-PI-1.PLANIFICACION INICIAL DE OBRA-(V.1) (1).PDF
ğŸ“Š Progreso global: 0 completados, 62 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-D-PI-1.PLANIFICACION INICIAL DE OBRA-(V.1) (1).PDF
   ğŸ“¤ 13.1% (64.0 KB/488.1 KB) @ 31.25 MB/s   ğŸ“¤ 26.2% (128.0 KB/488.1 KB) @ 17.86 MB/s   ğŸ“¤ 39.3% (192.0 KB/488.1 KB) @ 26.79 MB/s   ğŸ“¤ 52.4% (256.0 KB/488.1 KB) @ 1.05 MB/s   ğŸ“¤ 65.6% (320.0 KB/488.1 KB) @ 1.31 MB/s   ğŸ“¤ 78.7% (384.0 KB/488.1 KB) @ 1.55 MB/s   ğŸ“¤ 91.8% (448.0 KB/488.1 KB) @ 1.74 MB/s   ğŸ“¤ 100.0% (488.1 KB/488.1 KB) @ 1.88 MB/s   âœ… Subido en 1.8s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-D-PI-1.PLANIFICACION INICIAL DE OBRA-(V.1) (1).PDF

   âœ… Upload exitoso en 1.8s (274.2 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-D-PI-1.PLANIFICACION INICIAL DE OBRA-(V.1) (1).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-D-PI-1.PLANIFICACION INICIAL DE OBRA-(V.1) (1).PDF
   ğŸ“Š TamaÃ±o: 488.08 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/1. PLANIFICACIÃ“N INICIAL DE LA OBRA/GOP-D-PI-1.PLANIFICACION INICIAL DE OBRA-(V.1) (1).PDF
   ğŸ“Š TamaÃ±o: 488.08 KB
   ğŸ”„ Enviando a Gemini AI...
........................................................................................................................................
   âœ… ExtracciÃ³n completa en 272.4s
   ğŸ“ 1,375,158 caracteres extraÃ­dos
   ğŸ¯ ~343,790 tokens estimados
   ğŸ’° Costo estimado: $0.103192
   ğŸ‘ï¸  Preview: # Page 1

n
EDIFICACIÃ“N

| 1 | 26-11-2024 | GOP | GOP | | Se agrega: Parque herramientas, GestiÃ³n MMAA, MMC, ProgramaciÃ³n financiera DS49. |
|---|------------|-----|-----|---|-------------------------...
   âœ… ExtracciÃ³n exitosa en 272.4s
   ğŸ“ Caracteres extraÃ­dos: 1,375,158
   ğŸ¯ Tokens estimados: ~343,790
   ğŸ“¥ Input tokens: 730
   ğŸ“¤ Output tokens: 343,790
   ğŸ’° Costo: $0.103192
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-D-PI-1.PLANIFICACION INICIAL DE OBRA-(V.1) (1).PDF failed: 3 INVALID_ARGUMENT: The value of property "extractedData" is longer than 1048487 bytes.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 2 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: 6.5 MAQ-LOG-CBO-P-001 GESTION DE BODEGAS DE OBRAS REV.07.PDF
ğŸ“Š Progreso global: 1 completados, 61 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/6.5 MAQ-LOG-CBO-P-001 GESTION DE BODEGAS DE OBRAS REV.07.PDF
   ğŸ“¤ 9.7% (64.0 KB/661.3 KB) @ 7.81 MB/s   ğŸ“¤ 19.4% (128.0 KB/661.3 KB) @ 9.62 MB/s   ğŸ“¤ 29.0% (192.0 KB/661.3 KB) @ 12.50 MB/s   ğŸ“¤ 38.7% (256.0 KB/661.3 KB) @ 266.9 KB/s   ğŸ“¤ 48.4% (320.0 KB/661.3 KB) @ 333.3 KB/s   ğŸ“¤ 58.1% (384.0 KB/661.3 KB) @ 398.3 KB/s   ğŸ“¤ 67.7% (448.0 KB/661.3 KB) @ 462.3 KB/s   ğŸ“¤ 77.4% (512.0 KB/661.3 KB) @ 526.7 KB/s   ğŸ“¤ 87.1% (576.0 KB/661.3 KB) @ 592.6 KB/s   ğŸ“¤ 96.8% (640.0 KB/661.3 KB) @ 657.8 KB/s   ğŸ“¤ 100.0% (661.3 KB/661.3 KB) @ 678.9 KB/s   âœ… Subido en 2.3s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/6.5 MAQ-LOG-CBO-P-001 GESTION DE BODEGAS DE OBRAS REV.07.PDF

   âœ… Upload exitoso en 2.3s (286.0 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/6.5 MAQ-LOG-CBO-P-001 GESTION DE BODEGAS DE OBRAS REV.07.PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: 6.5 MAQ-LOG-CBO-P-001 GESTION DE BODEGAS DE OBRAS REV.07.PDF
   ğŸ“Š TamaÃ±o: 661.28 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/6.5 MAQ-LOG-CBO-P-001 GESTION DE BODEGAS DE OBRAS REV.07.PDF
   ğŸ“Š TamaÃ±o: 661.28 KB
   ğŸ”„ Enviando a Gemini AI...
.......................
   âœ… ExtracciÃ³n completa en 47.3s
   ğŸ“ 28,391 caracteres extraÃ­dos
   ğŸ¯ ~7,098 tokens estimados
   ğŸ’° Costo estimado: $0.002197
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from beginning to end, with clear structure using Markdown headings and tables.

# MAQSAÂ®
Abastecimiento y Servicios

...
   âœ… ExtracciÃ³n exitosa en 47.3s
   ğŸ“ Caracteres extraÃ­dos: 28,391
   ğŸ¯ Tokens estimados: ~7,098
   ğŸ“¥ Input tokens: 907
   ğŸ“¤ Output tokens: 7,098
   ğŸ’° Costo: $0.002197
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: RrjgPyzVBFjv5WS3dz3D
   â±ï¸  Tiempo: 0.3s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 28,391 caracteres
   ğŸ“Š Tokens estimados: ~7,098 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 9 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 834 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 9 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-9...
      âœ… Batch 1 complete: 9 embeddings generated
   âœ… Generated 9 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 9 embeddings in Firestore...
   âœ… Stored 9 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“Š BigQuery Vector Search initialized
  Project: salfagpt
  Dataset: flow_rag_optimized
  Table: document_chunks_vectorized
ğŸ“¤ Syncing 9 chunks to BigQuery...
âœ… 9 chunks synced to BigQuery
   âœ… Synced 9 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 8.6s
      ğŸ“¦ 9 chunks creados
      ğŸ§¬ 9 embeddings generados (768-dim)
      ğŸ¯ 7,510 tokens totales
      ğŸ’° Costo embeddings: $0.000150
   âœ… Chunking completado: 9 chunks creados
   âœ… Embeddings generados: 9 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 834
   ğŸ’° Costo embeddings: $0.000150
   â±ï¸  Tiempo RAG: 8.6s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ 6.5 MAQ-LOG-CBO-P-001 GESTION DE BODEGAS DE OBRAS REV.07.PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 3 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: CONTRATACION DE SUBCONTRATISTAS.PDF
ğŸ“Š Progreso global: 2 completados, 60 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/CONTRATACION DE SUBCONTRATISTAS.PDF
   ğŸ“¤ 2.2% (64.0 KB/2.83 MB) @ 15.63 MB/s   ğŸ“¤ 4.4% (128.0 KB/2.83 MB) @ 13.89 MB/s   ğŸ“¤ 6.6% (192.0 KB/2.83 MB) @ 18.75 MB/s   ğŸ“¤ 8.8% (256.0 KB/2.83 MB) @ 1.07 MB/s   ğŸ“¤ 11.1% (320.0 KB/2.83 MB) @ 1.34 MB/s   ğŸ“¤ 13.3% (384.0 KB/2.83 MB) @ 1.58 MB/s   ğŸ“¤ 15.5% (448.0 KB/2.83 MB) @ 1.76 MB/s   ğŸ“¤ 17.7% (512.0 KB/2.83 MB) @ 2.01 MB/s   ğŸ“¤ 19.9% (576.0 KB/2.83 MB) @ 2.25 MB/s   ğŸ“¤ 22.1% (640.0 KB/2.83 MB) @ 2.45 MB/s   ğŸ“¤ 24.3% (704.0 KB/2.83 MB) @ 2.70 MB/s   ğŸ“¤ 26.5% (768.0 KB/2.83 MB) @ 1.02 MB/s   ğŸ“¤ 28.7% (832.0 KB/2.83 MB) @ 1.10 MB/s   ğŸ“¤ 31.0% (896.0 KB/2.83 MB) @ 1.17 MB/s   ğŸ“¤ 33.2% (960.0 KB/2.83 MB) @ 1.26 MB/s   ğŸ“¤ 35.4% (1.00 MB/2.83 MB) @ 1.33 MB/s   ğŸ“¤ 37.6% (1.06 MB/2.83 MB) @ 1023.5 KB/s   ğŸ“¤ 39.8% (1.13 MB/2.83 MB) @ 1.04 MB/s   ğŸ“¤ 42.0% (1.19 MB/2.83 MB) @ 983.0 KB/s   ğŸ“¤ 44.2% (1.25 MB/2.83 MB) @ 994.6 KB/s   ğŸ“¤ 46.4% (1.31 MB/2.83 MB) @ 1.01 MB/s   ğŸ“¤ 48.6% (1.38 MB/2.83 MB) @ 966.4 KB/s   ğŸ“¤ 50.8% (1.44 MB/2.83 MB) @ 1006.8 KB/s   ğŸ“¤ 53.1% (1.50 MB/2.83 MB) @ 1.02 MB/s   ğŸ“¤ 55.3% (1.56 MB/2.83 MB) @ 1.07 MB/s   ğŸ“¤ 57.5% (1.63 MB/2.83 MB) @ 1.11 MB/s   ğŸ“¤ 59.7% (1.69 MB/2.83 MB) @ 1.15 MB/s   ğŸ“¤ 61.9% (1.75 MB/2.83 MB) @ 1.19 MB/s   ğŸ“¤ 64.1% (1.81 MB/2.83 MB) @ 1.23 MB/s   ğŸ“¤ 66.3% (1.88 MB/2.83 MB) @ 1.28 MB/s   ğŸ“¤ 68.5% (1.94 MB/2.83 MB) @ 1.32 MB/s   ğŸ“¤ 70.7% (2.00 MB/2.83 MB) @ 1.36 MB/s   ğŸ“¤ 73.0% (2.06 MB/2.83 MB) @ 1.40 MB/s   ğŸ“¤ 75.2% (2.13 MB/2.83 MB) @ 1.44 MB/s   ğŸ“¤ 77.4% (2.19 MB/2.83 MB) @ 1.49 MB/s   ğŸ“¤ 79.6% (2.25 MB/2.83 MB) @ 1.53 MB/s   ğŸ“¤ 81.8% (2.31 MB/2.83 MB) @ 1.57 MB/s   ğŸ“¤ 84.0% (2.38 MB/2.83 MB) @ 1.61 MB/s   ğŸ“¤ 86.2% (2.44 MB/2.83 MB) @ 1.65 MB/s   ğŸ“¤ 88.4% (2.50 MB/2.83 MB) @ 1.69 MB/s   ğŸ“¤ 90.6% (2.56 MB/2.83 MB) @ 1.73 MB/s   ğŸ“¤ 92.9% (2.63 MB/2.83 MB) @ 1.78 MB/s   ğŸ“¤ 95.1% (2.69 MB/2.83 MB) @ 1.82 MB/s   ğŸ“¤ 97.3% (2.75 MB/2.83 MB) @ 1.86 MB/s   ğŸ“¤ 99.5% (2.81 MB/2.83 MB) @ 1.90 MB/s   ğŸ“¤ 100.0% (2.83 MB/2.83 MB) @ 1.91 MB/s   âœ… Subido en 2.2s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/CONTRATACION DE SUBCONTRATISTAS.PDF

   âœ… Upload exitoso en 2.2s (1.26 MB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/CONTRATACION DE SUBCONTRATISTAS.PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: CONTRATACION DE SUBCONTRATISTAS.PDF
   ğŸ“Š TamaÃ±o: 2894.85 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/CONTRATACION DE SUBCONTRATISTAS.PDF
   ğŸ“Š TamaÃ±o: 2894.85 KB
   ğŸ”„ Enviando a Gemini AI...
.................................................................................................................................
   âœ… ExtracciÃ³n completa en 259.7s
   ğŸ“ 1,927,293 caracteres extraÃ­dos
   ğŸ¯ ~481,824 tokens estimados
   ğŸ’° Costo estimado: $0.144787
   ğŸ‘ï¸  Preview: # Page 1

Sostenibilidad

**Table:**
| 1 | 02/01/2024 | AUDITORIA INTERNA | CONTRALOR | CONTRALORA | ActualizaciÃ³n |
|---|---|---|---|---|---|
| 0 | 28/09/2012 | ELABORADO | REVISADO | APROBADO | LEY ...
   âœ… ExtracciÃ³n exitosa en 259.7s
   ğŸ“ Caracteres extraÃ­dos: 1,927,293
   ğŸ¯ Tokens estimados: ~481,824
   ğŸ“¥ Input tokens: 3,194
   ğŸ“¤ Output tokens: 481,824
   ğŸ’° Costo: $0.144787
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ CONTRATACION DE SUBCONTRATISTAS.PDF failed: 3 INVALID_ARGUMENT: The value of property "extractedData" is longer than 1048487 bytes.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 4 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.ANEXO RESUMEN REVISIONES MITO-(V.0).PDF
ğŸ“Š Progreso global: 3 completados, 59 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.ANEXO RESUMEN REVISIONES MITO-(V.0).PDF
   ğŸ“¤ 25.4% (64.0 KB/252.0 KB) @ 62.50 MB/s   ğŸ“¤ 50.8% (128.0 KB/252.0 KB) @ 41.67 MB/s   ğŸ“¤ 76.2% (192.0 KB/252.0 KB) @ 62.50 MB/s   ğŸ“¤ 100.0% (252.0 KB/252.0 KB) @ 1.03 MB/s   âœ… Subido en 1.8s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.ANEXO RESUMEN REVISIONES MITO-(V.0).PDF

   âœ… Upload exitoso en 1.8s (137.8 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.ANEXO RESUMEN REVISIONES MITO-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.ANEXO RESUMEN REVISIONES MITO-(V.0).PDF
   ğŸ“Š TamaÃ±o: 252.04 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.ANEXO RESUMEN REVISIONES MITO-(V.0).PDF
   ğŸ“Š TamaÃ±o: 252.04 KB
   ğŸ”„ Enviando a Gemini AI...
..............................................................................................................................
   âœ… ExtracciÃ³n completa en 254.0s
   ğŸ“ 977,628 caracteres extraÃ­dos
   ğŸ¯ ~244,407 tokens estimados
   ğŸ’° Costo estimado: $0.073359
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows, structured with Markdown headings and tables:

# n EDIFICACIÃ“N

| 0 | 26-07-2024 | GOP | GOP | GOP | ElaboraciÃ³n Documento |
|---|---|-...
   âœ… ExtracciÃ³n exitosa en 254.0s
   ğŸ“ Caracteres extraÃ­dos: 977,628
   ğŸ¯ Tokens estimados: ~244,407
   ğŸ“¥ Input tokens: 488
   ğŸ“¤ Output tokens: 244,407
   ğŸ’° Costo: $0.073359
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: sfEqus9lx93i4cJaTYPS
   â±ï¸  Tiempo: 4.9s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 977,628 caracteres
   ğŸ“Š Tokens estimados: ~244,407 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 258 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 998 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ—‘ï¸ Filtered 254 low-quality chunks
   ğŸ—‘ï¸ Filtrados 254 chunks de baja calidad
   âœ… 4 chunks Ãºtiles restantes
   ğŸ§¬ Generating embeddings for 4 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-4...
      âœ… Batch 1 complete: 4 embeddings generated
   âœ… Generated 4 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 4 embeddings in Firestore...
   âœ… Stored 4 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 4 chunks to BigQuery...
âœ… 4 chunks synced to BigQuery
   âœ… Synced 4 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 4.1s
      ğŸ“¦ 4 chunks creados
      ğŸ§¬ 4 embeddings generados (768-dim)
      ğŸ¯ 3,810 tokens totales
      ğŸ’° Costo embeddings: $0.000076
   âœ… Chunking completado: 4 chunks creados
   âœ… Embeddings generados: 4 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 953
   ğŸ’° Costo embeddings: $0.000076
   â±ï¸  Tiempo RAG: 4.1s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.ANEXO RESUMEN REVISIONES MITO-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 5 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.DETECCION DE HALLAZGOS Y NO CONFORMIDADES-(V.5).PDF
ğŸ“Š Progreso global: 4 completados, 58 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.DETECCION DE HALLAZGOS Y NO CONFORMIDADES-(V.5).PDF
   ğŸ“¤ 36.8% (64.0 KB/174.0 KB) @ 12.50 MB/s   ğŸ“¤ 73.5% (128.0 KB/174.0 KB) @ 13.89 MB/s   ğŸ“¤ 100.0% (174.0 KB/174.0 KB) @ 17.00 MB/s   âœ… Subido en 1.6s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.DETECCION DE HALLAZGOS Y NO CONFORMIDADES-(V.5).PDF

   âœ… Upload exitoso en 1.6s (109.3 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.DETECCION DE HALLAZGOS Y NO CONFORMIDADES-(V.5).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.DETECCION DE HALLAZGOS Y NO CONFORMIDADES-(V.5).PDF
   ğŸ“Š TamaÃ±o: 174.04 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.DETECCION DE HALLAZGOS Y NO CONFORMIDADES-(V.5).PDF
   ğŸ“Š TamaÃ±o: 174.04 KB
   ğŸ”„ Enviando a Gemini AI...
........
   âœ… ExtracciÃ³n completa en 17.7s
   ğŸ“ 10,319 caracteres extraÃ­dos
   ğŸ¯ ~2,580 tokens estimados
   ğŸ’° Costo estimado: $0.000805
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

# Page 1

EDIFICACIÃ“N

| 5 | 18-10-24 | GOP | GAG | CO | Se elimina Ã­tem de acciones preventivas |
|---|---|---|---|---|---|
| 4 | 23-...
   âœ… ExtracciÃ³n exitosa en 17.7s
   ğŸ“ Caracteres extraÃ­dos: 10,319
   ğŸ¯ Tokens estimados: ~2,580
   ğŸ“¥ Input tokens: 408
   ğŸ“¤ Output tokens: 2,580
   ğŸ’° Costo: $0.000805
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: PgFlhPwiluTPV28OUzRM
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 10,319 caracteres
   ğŸ“Š Tokens estimados: ~2,580 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 3 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 894 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 3 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-3...
      âœ… Batch 1 complete: 3 embeddings generated
   âœ… Generated 3 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 3 embeddings in Firestore...
   âœ… Stored 3 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 3 chunks to BigQuery...
âœ… 3 chunks synced to BigQuery
   âœ… Synced 3 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 2.4s
      ğŸ“¦ 3 chunks creados
      ğŸ§¬ 3 embeddings generados (768-dim)
      ğŸ¯ 2,683 tokens totales
      ğŸ’° Costo embeddings: $0.000054
   âœ… Chunking completado: 3 chunks creados
   âœ… Embeddings generados: 3 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 894
   ğŸ’° Costo embeddings: $0.000054
   â±ï¸  Tiempo RAG: 2.4s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.DETECCION DE HALLAZGOS Y NO CONFORMIDADES-(V.5).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 6 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.EVALUACION SUBCONTRATOS-(V.0).PDF
ğŸ“Š Progreso global: 5 completados, 57 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.EVALUACION SUBCONTRATOS-(V.0).PDF
   ğŸ“¤ 9.9% (64.0 KB/647.9 KB) @ 20.83 MB/s   ğŸ“¤ 19.8% (128.0 KB/647.9 KB) @ 20.83 MB/s   ğŸ“¤ 29.6% (192.0 KB/647.9 KB) @ 31.25 MB/s   ğŸ“¤ 39.5% (256.0 KB/647.9 KB) @ 277.4 KB/s   ğŸ“¤ 49.4% (320.0 KB/647.9 KB) @ 346.7 KB/s   ğŸ“¤ 59.3% (384.0 KB/647.9 KB) @ 410.7 KB/s   ğŸ“¤ 69.1% (448.0 KB/647.9 KB) @ 476.1 KB/s   ğŸ“¤ 79.0% (512.0 KB/647.9 KB) @ 543.5 KB/s   ğŸ“¤ 88.9% (576.0 KB/647.9 KB) @ 610.8 KB/s   ğŸ“¤ 98.8% (640.0 KB/647.9 KB) @ 675.1 KB/s   ğŸ“¤ 100.0% (647.9 KB/647.9 KB) @ 683.5 KB/s   âœ… Subido en 2.0s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.EVALUACION SUBCONTRATOS-(V.0).PDF

   âœ… Upload exitoso en 2.0s (318.2 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.EVALUACION SUBCONTRATOS-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.EVALUACION SUBCONTRATOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 647.92 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.EVALUACION SUBCONTRATOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 647.92 KB
   ğŸ”„ Enviando a Gemini AI...
...............
   âœ… ExtracciÃ³n completa en 31.3s
   ğŸ“ 16,422 caracteres extraÃ­dos
   ğŸ¯ ~4,106 tokens estimados
   ğŸ’° Costo estimado: $0.001299
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document, processed page by page, is as follows:

---

# Page 1

n
EDIFICACIÃ“N

| 0   | 18-10-2024 | GOP       | GOP      | GOP       | ElaboraciÃ³n procedimien...
   âœ… ExtracciÃ³n exitosa en 31.3s
   ğŸ“ Caracteres extraÃ­dos: 16,422
   ğŸ¯ Tokens estimados: ~4,106
   ğŸ“¥ Input tokens: 893
   ğŸ“¤ Output tokens: 4,106
   ğŸ’° Costo: $0.001299
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: rxl5jvgSvCtqsN0Ohkpv
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 16,422 caracteres
   ğŸ“Š Tokens estimados: ~4,106 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 5 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 862 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 5 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-5...
      âœ… Batch 1 complete: 5 embeddings generated
   âœ… Generated 5 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 5 embeddings in Firestore...
   âœ… Stored 5 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 5 chunks to BigQuery...
âœ… 5 chunks synced to BigQuery
   âœ… Synced 5 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 4.0s
      ğŸ“¦ 5 chunks creados
      ğŸ§¬ 5 embeddings generados (768-dim)
      ğŸ¯ 4,312 tokens totales
      ğŸ’° Costo embeddings: $0.000086
   âœ… Chunking completado: 5 chunks creados
   âœ… Embeddings generados: 5 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 862
   ğŸ’° Costo embeddings: $0.000086
   â±ï¸  Tiempo RAG: 4.0s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.EVALUACION SUBCONTRATOS-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 7 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.INSTRUCTIVO CALCULO DE STOCK CRITICO-(V.0).PDF
ğŸ“Š Progreso global: 6 completados, 56 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.INSTRUCTIVO CALCULO DE STOCK CRITICO-(V.0).PDF
   ğŸ“¤ 18.1% (64.0 KB/354.4 KB) @ 12.50 MB/s   ğŸ“¤ 36.1% (128.0 KB/354.4 KB) @ 15.63 MB/s   ğŸ“¤ 54.2% (192.0 KB/354.4 KB) @ 23.44 MB/s   ğŸ“¤ 72.2% (256.0 KB/354.4 KB) @ 1.01 MB/s   ğŸ“¤ 90.3% (320.0 KB/354.4 KB) @ 1.26 MB/s   ğŸ“¤ 100.0% (354.4 KB/354.4 KB) @ 1.38 MB/s   âœ… Subido en 1.6s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.INSTRUCTIVO CALCULO DE STOCK CRITICO-(V.0).PDF

   âœ… Upload exitoso en 1.6s (217.4 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.INSTRUCTIVO CALCULO DE STOCK CRITICO-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.INSTRUCTIVO CALCULO DE STOCK CRITICO-(V.0).PDF
   ğŸ“Š TamaÃ±o: 354.37 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.INSTRUCTIVO CALCULO DE STOCK CRITICO-(V.0).PDF
   ğŸ“Š TamaÃ±o: 354.37 KB
   ğŸ”„ Enviando a Gemini AI...
.........
   âœ… ExtracciÃ³n completa en 18.6s
   ğŸ“ 7,625 caracteres extraÃ­dos
   ğŸ¯ ~1,907 tokens estimados
   ğŸ’° Costo estimado: $0.000617
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from page 1 to the last page, with clear structure using Markdown headings and tables.

---

# Page 1

n
EDIFICACIÃ“N

...
   âœ… ExtracciÃ³n exitosa en 18.6s
   ğŸ“ Caracteres extraÃ­dos: 7,625
   ğŸ¯ Tokens estimados: ~1,907
   ğŸ“¥ Input tokens: 593
   ğŸ“¤ Output tokens: 1,907
   ğŸ’° Costo: $0.000617
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: 2kgJW0ZdTy03vnDKGZw1
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 7,625 caracteres
   ğŸ“Š Tokens estimados: ~1,907 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 2 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 979 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 2 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-2...
      âœ… Batch 1 complete: 2 embeddings generated
   âœ… Generated 2 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 2 embeddings in Firestore...
   âœ… Stored 2 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 2 chunks to BigQuery...
âœ… 2 chunks synced to BigQuery
   âœ… Synced 2 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 1.8s
      ğŸ“¦ 2 chunks creados
      ğŸ§¬ 2 embeddings generados (768-dim)
      ğŸ¯ 1,958 tokens totales
      ğŸ’° Costo embeddings: $0.000039
   âœ… Chunking completado: 2 chunks creados
   âœ… Embeddings generados: 2 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 979
   ğŸ’° Costo embeddings: $0.000039
   â±ï¸  Tiempo RAG: 1.8s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.INSTRUCTIVO CALCULO DE STOCK CRITICO-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 8 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.INSTRUCTIVO MODULADOR DE BODEGAS-(V.0).PDF
ğŸ“Š Progreso global: 7 completados, 55 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.INSTRUCTIVO MODULADOR DE BODEGAS-(V.0).PDF
   ğŸ“¤ 6.2% (64.0 KB/1.01 MB) @ 15.63 MB/s   ğŸ“¤ 12.3% (128.0 KB/1.01 MB) @ 17.86 MB/s   ğŸ“¤ 18.5% (192.0 KB/1.01 MB) @ 23.44 MB/s   ğŸ“¤ 24.6% (256.0 KB/1.01 MB) @ 1.03 MB/s   ğŸ“¤ 30.8% (320.0 KB/1.01 MB) @ 1.28 MB/s   ğŸ“¤ 37.0% (384.0 KB/1.01 MB) @ 1.49 MB/s   ğŸ“¤ 43.1% (448.0 KB/1.01 MB) @ 1.70 MB/s   ğŸ“¤ 49.3% (512.0 KB/1.01 MB) @ 1.94 MB/s   ğŸ“¤ 55.4% (576.0 KB/1.01 MB) @ 2.14 MB/s   ğŸ“¤ 61.6% (640.0 KB/1.01 MB) @ 2.38 MB/s   ğŸ“¤ 67.7% (704.0 KB/1.01 MB) @ 849.2 KB/s   ğŸ“¤ 73.9% (768.0 KB/1.01 MB) @ 616.4 KB/s   ğŸ“¤ 80.1% (832.0 KB/1.01 MB) @ 643.0 KB/s   ğŸ“¤ 86.2% (896.0 KB/1.01 MB) @ 689.8 KB/s   ğŸ“¤ 92.4% (960.0 KB/1.01 MB) @ 735.6 KB/s   ğŸ“¤ 98.5% (1.00 MB/1.01 MB) @ 781.7 KB/s   ğŸ“¤ 100.0% (1.01 MB/1.01 MB) @ 791.5 KB/s   âœ… Subido en 2.0s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.INSTRUCTIVO MODULADOR DE BODEGAS-(V.0).PDF

   âœ… Upload exitoso en 2.0s (530.8 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.INSTRUCTIVO MODULADOR DE BODEGAS-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.INSTRUCTIVO MODULADOR DE BODEGAS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1039.24 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.INSTRUCTIVO MODULADOR DE BODEGAS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1039.24 KB
   ğŸ”„ Enviando a Gemini AI...
..........................
   âœ… ExtracciÃ³n completa en 52.3s
   ğŸ“ 29,126 caracteres extraÃ­dos
   ğŸ¯ ~7,282 tokens estimados
   ğŸ’° Costo estimado: $0.002282
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from page 1 to the last page, with clear structure using Markdown headings and tables.

---

# Page 1

## Header

| 0 ...
   âœ… ExtracciÃ³n exitosa en 52.3s
   ğŸ“ Caracteres extraÃ­dos: 29,126
   ğŸ¯ Tokens estimados: ~7,282
   ğŸ“¥ Input tokens: 1,294
   ğŸ“¤ Output tokens: 7,282
   ğŸ’° Costo: $0.002282
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: lyVBfKMWNv63iZNGkpqs
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 29,126 caracteres
   ğŸ“Š Tokens estimados: ~7,282 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 9 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 855 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 9 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-9...
      âœ… Batch 1 complete: 9 embeddings generated
   âœ… Generated 9 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 9 embeddings in Firestore...
   âœ… Stored 9 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 9 chunks to BigQuery...
âœ… 9 chunks synced to BigQuery
   âœ… Synced 9 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 7.3s
      ğŸ“¦ 9 chunks creados
      ğŸ§¬ 9 embeddings generados (768-dim)
      ğŸ¯ 7,694 tokens totales
      ğŸ’° Costo embeddings: $0.000154
   âœ… Chunking completado: 9 chunks creados
   âœ… Embeddings generados: 9 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 855
   ğŸ’° Costo embeddings: $0.000154
   â±ï¸  Tiempo RAG: 7.3s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.INSTRUCTIVO MODULADOR DE BODEGAS-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 9 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.MATRIZ DE OBJETIVOS DE CONTROL DE OBRA-(V.0).PDF
ğŸ“Š Progreso global: 8 completados, 54 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.MATRIZ DE OBJETIVOS DE CONTROL DE OBRA-(V.0).PDF
   ğŸ“¤ 21.1% (64.0 KB/303.4 KB) @ 12.50 MB/s   ğŸ“¤ 42.2% (128.0 KB/303.4 KB) @ 15.63 MB/s   ğŸ“¤ 63.3% (192.0 KB/303.4 KB) @ 20.83 MB/s   ğŸ“¤ 84.4% (256.0 KB/303.4 KB) @ 281.0 KB/s   ğŸ“¤ 100.0% (303.4 KB/303.4 KB) @ 332.7 KB/s   âœ… Subido en 1.8s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.MATRIZ DE OBJETIVOS DE CONTROL DE OBRA-(V.0).PDF

   âœ… Upload exitoso en 1.8s (173.2 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.MATRIZ DE OBJETIVOS DE CONTROL DE OBRA-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.MATRIZ DE OBJETIVOS DE CONTROL DE OBRA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 303.42 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.MATRIZ DE OBJETIVOS DE CONTROL DE OBRA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 303.42 KB
   ğŸ”„ Enviando a Gemini AI...
........
   âœ… ExtracciÃ³n completa en 17.9s
   ğŸ“ 3,523 caracteres extraÃ­dos
   ğŸ¯ ~881 tokens estimados
   ğŸ’° Costo estimado: $0.000305
   ğŸ‘ï¸  Preview: # MATRIZ DE OBJETIVOS DE CONTROL DE OBRA

**Document ID:** GOP-P-PCO-2.1.
**VersiÃ³n:** 0
**Date:** 13-05-2024

**Logo Text:** EDIFICACIÃ“N

| NÂ° | OBJETIVO | UNIDAD QUE CONTROLA | INDICADOR | FORMULA |...
   âœ… ExtracciÃ³n exitosa en 17.9s
   ğŸ“ Caracteres extraÃ­dos: 3,523
   ğŸ¯ Tokens estimados: ~881
   ğŸ“¥ Input tokens: 541
   ğŸ“¤ Output tokens: 881
   ğŸ’° Costo: $0.000305
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: Ti2BXFdHgpP3QpQW6btr
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 3,523 caracteres
   ğŸ“Š Tokens estimados: ~881 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 1 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 881 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 1 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-1...
      âœ… Batch 1 complete: 1 embeddings generated
   âœ… Generated 1 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 1 embeddings in Firestore...
   âœ… Stored 1 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 1 chunks to BigQuery...
âœ… 1 chunks synced to BigQuery
   âœ… Synced 1 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 1.0s
      ğŸ“¦ 1 chunks creados
      ğŸ§¬ 1 embeddings generados (768-dim)
      ğŸ¯ 881 tokens totales
      ğŸ’° Costo embeddings: $0.000018
   âœ… Chunking completado: 1 chunks creados
   âœ… Embeddings generados: 1 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 881
   ğŸ’° Costo embeddings: $0.000018
   â±ï¸  Tiempo RAG: 1.0s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.MATRIZ DE OBJETIVOS DE CONTROL DE OBRA-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 10 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.PROCEDIMIENTO DE GESTION DE CONSTRUCCION EN OBRA-(V.2).PDF
ğŸ“Š Progreso global: 9 completados, 53 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO DE GESTION DE CONSTRUCCION EN OBRA-(V.2).PDF
   ğŸ“¤ 2.8% (64.0 KB/2.22 MB) @ 20.83 MB/s   ğŸ“¤ 5.6% (128.0 KB/2.22 MB) @ 17.86 MB/s   ğŸ“¤ 8.5% (192.0 KB/2.22 MB) @ 26.79 MB/s   ğŸ“¤ 11.3% (256.0 KB/2.22 MB) @ 1.14 MB/s   ğŸ“¤ 14.1% (320.0 KB/2.22 MB) @ 1.42 MB/s   ğŸ“¤ 16.9% (384.0 KB/2.22 MB) @ 1.67 MB/s   ğŸ“¤ 19.7% (448.0 KB/2.22 MB) @ 1.88 MB/s   ğŸ“¤ 22.5% (512.0 KB/2.22 MB) @ 2.14 MB/s   ğŸ“¤ 25.4% (576.0 KB/2.22 MB) @ 2.36 MB/s   ğŸ“¤ 28.2% (640.0 KB/2.22 MB) @ 2.60 MB/s   ğŸ“¤ 31.0% (704.0 KB/2.22 MB) @ 2.86 MB/s   ğŸ“¤ 33.8% (768.0 KB/2.22 MB) @ 898.2 KB/s   ğŸ“¤ 36.6% (832.0 KB/2.22 MB) @ 972.0 KB/s   ğŸ“¤ 39.5% (896.0 KB/2.22 MB) @ 1.02 MB/s   ğŸ“¤ 42.3% (960.0 KB/2.22 MB) @ 1.09 MB/s   ğŸ“¤ 45.1% (1.00 MB/2.22 MB) @ 1.16 MB/s   ğŸ“¤ 47.9% (1.06 MB/2.22 MB) @ 872.5 KB/s   ğŸ“¤ 50.7% (1.13 MB/2.22 MB) @ 905.7 KB/s   ğŸ“¤ 53.5% (1.19 MB/2.22 MB) @ 840.4 KB/s   ğŸ“¤ 56.4% (1.25 MB/2.22 MB) @ 854.5 KB/s   ğŸ“¤ 59.2% (1.31 MB/2.22 MB) @ 896.0 KB/s   ğŸ“¤ 62.0% (1.38 MB/2.22 MB) @ 824.8 KB/s   ğŸ“¤ 64.8% (1.44 MB/2.22 MB) @ 861.8 KB/s   ğŸ“¤ 67.6% (1.50 MB/2.22 MB) @ 898.8 KB/s   ğŸ“¤ 70.5% (1.56 MB/2.22 MB) @ 935.1 KB/s   ğŸ“¤ 73.3% (1.63 MB/2.22 MB) @ 972.0 KB/s   ğŸ“¤ 76.1% (1.69 MB/2.22 MB) @ 1009.3 KB/s   ğŸ“¤ 78.9% (1.75 MB/2.22 MB) @ 1.02 MB/s   ğŸ“¤ 81.7% (1.81 MB/2.22 MB) @ 1.06 MB/s   ğŸ“¤ 84.5% (1.88 MB/2.22 MB) @ 1.09 MB/s   ğŸ“¤ 87.4% (1.94 MB/2.22 MB) @ 1.13 MB/s   ğŸ“¤ 90.2% (2.00 MB/2.22 MB) @ 1.17 MB/s   ğŸ“¤ 93.0% (2.06 MB/2.22 MB) @ 1.20 MB/s   ğŸ“¤ 95.8% (2.13 MB/2.22 MB) @ 1.24 MB/s   ğŸ“¤ 98.6% (2.19 MB/2.22 MB) @ 1.27 MB/s   ğŸ“¤ 100.0% (2.22 MB/2.22 MB) @ 1.29 MB/s   âœ… Subido en 2.5s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO DE GESTION DE CONSTRUCCION EN OBRA-(V.2).PDF

   âœ… Upload exitoso en 2.5s (894.8 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO DE GESTION DE CONSTRUCCION EN OBRA-(V.2).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.PROCEDIMIENTO DE GESTION DE CONSTRUCCION EN OBRA-(V.2).PDF
   ğŸ“Š TamaÃ±o: 2270.97 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.PROCEDIMIENTO DE GESTION DE CONSTRUCCION EN OBRA-(V.2).PDF
   ğŸ“Š TamaÃ±o: 2270.97 KB
   ğŸ”„ Enviando a Gemini AI...
.......................................................
   âœ… ExtracciÃ³n completa en 112.1s
   ğŸ“ 44,869 caracteres extraÃ­dos
   ğŸ¯ ~11,218 tokens estimados
   ğŸ’° Costo estimado: $0.003557
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from beginning to end, with clear structure using Markdown headings and tables.

# Page 1

n
EDIFICACIÃ“N

| 2 | 17-03-...
   âœ… ExtracciÃ³n exitosa en 112.1s
   ğŸ“ Caracteres extraÃ­dos: 44,869
   ğŸ¯ Tokens estimados: ~11,218
   ğŸ“¥ Input tokens: 2,555
   ğŸ“¤ Output tokens: 11,218
   ğŸ’° Costo: $0.003557
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: N4FLTCv07x4PRkT0Kexh
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 44,869 caracteres
   ğŸ“Š Tokens estimados: ~11,218 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 13 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 910 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 13 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-13...
      âœ… Batch 1 complete: 13 embeddings generated
   âœ… Generated 13 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 13 embeddings in Firestore...
   âœ… Stored 13 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 13 chunks to BigQuery...
âœ… 13 chunks synced to BigQuery
   âœ… Synced 13 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 11.0s
      ğŸ“¦ 13 chunks creados
      ğŸ§¬ 13 embeddings generados (768-dim)
      ğŸ¯ 11,834 tokens totales
      ğŸ’° Costo embeddings: $0.000237
   âœ… Chunking completado: 13 chunks creados
   âœ… Embeddings generados: 13 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 910
   ğŸ’° Costo embeddings: $0.000237
   â±ï¸  Tiempo RAG: 11.0s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.PROCEDIMIENTO DE GESTION DE CONSTRUCCION EN OBRA-(V.2).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 11 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.PROCEDIMIENTO ENTREGA OBRA A POST VENTA-(V.0).PDF
ğŸ“Š Progreso global: 10 completados, 52 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO ENTREGA OBRA A POST VENTA-(V.0).PDF
   ğŸ“¤ 5.2% (64.0 KB/1.21 MB) @ 12.50 MB/s   ğŸ“¤ 10.3% (128.0 KB/1.21 MB) @ 15.63 MB/s   ğŸ“¤ 15.5% (192.0 KB/1.21 MB) @ 20.83 MB/s   ğŸ“¤ 20.6% (256.0 KB/1.21 MB) @ 244.3 KB/s   ğŸ“¤ 25.8% (320.0 KB/1.21 MB) @ 305.1 KB/s   ğŸ“¤ 30.9% (384.0 KB/1.21 MB) @ 365.0 KB/s   ğŸ“¤ 36.1% (448.0 KB/1.21 MB) @ 422.2 KB/s   ğŸ“¤ 41.2% (512.0 KB/1.21 MB) @ 482.1 KB/s   ğŸ“¤ 46.4% (576.0 KB/1.21 MB) @ 541.9 KB/s   ğŸ“¤ 51.6% (640.0 KB/1.21 MB) @ 601.5 KB/s   ğŸ“¤ 56.7% (704.0 KB/1.21 MB) @ 659.8 KB/s   ğŸ“¤ 61.9% (768.0 KB/1.21 MB) @ 719.1 KB/s   ğŸ“¤ 67.0% (832.0 KB/1.21 MB) @ 778.3 KB/s   ğŸ“¤ 72.2% (896.0 KB/1.21 MB) @ 836.6 KB/s   ğŸ“¤ 77.3% (960.0 KB/1.21 MB) @ 895.5 KB/s   ğŸ“¤ 82.5% (1.00 MB/1.21 MB) @ 949.0 KB/s   ğŸ“¤ 87.7% (1.06 MB/1.21 MB) @ 861.4 KB/s   ğŸ“¤ 92.8% (1.13 MB/1.21 MB) @ 808.4 KB/s   ğŸ“¤ 98.0% (1.19 MB/1.21 MB) @ 827.2 KB/s   ğŸ“¤ 100.0% (1.21 MB/1.21 MB) @ 753.6 KB/s   âœ… Subido en 2.6s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO ENTREGA OBRA A POST VENTA-(V.0).PDF

   âœ… Upload exitoso en 2.6s (474.7 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO ENTREGA OBRA A POST VENTA-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.PROCEDIMIENTO ENTREGA OBRA A POST VENTA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1241.23 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.PROCEDIMIENTO ENTREGA OBRA A POST VENTA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1241.23 KB
   ğŸ”„ Enviando a Gemini AI...
.........................................................................................................................................
   âœ… ExtracciÃ³n completa en 274.2s
   ğŸ“ 27,162 caracteres extraÃ­dos
   ğŸ¯ ~6,791 tokens estimados
   ğŸ’° Costo estimado: $0.002150
   ğŸ‘ï¸  Preview: Here's the complete text extracted from the PDF, formatted with Markdown:

# PROCEDIMIENTO ENTREGA OBRA A POST VENTA

| VER | FECHA | ELABORADO | REVISADO | APROBADO | MODIFICACIONES |
|---|---|---|--...
   âœ… ExtracciÃ³n exitosa en 274.2s
   ğŸ“ Caracteres extraÃ­dos: 27,162
   ğŸ¯ Tokens estimados: ~6,791
   ğŸ“¥ Input tokens: 1,501
   ğŸ“¤ Output tokens: 6,791
   ğŸ’° Costo: $0.002150
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: jDCYc5OQaSnPAHqmfDvC
   â±ï¸  Tiempo: 1.0s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 27,162 caracteres
   ğŸ“Š Tokens estimados: ~6,791 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 8 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 894 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ—‘ï¸ Filtered 6 low-quality chunks
   ğŸ—‘ï¸ Filtrados 6 chunks de baja calidad
   âœ… 2 chunks Ãºtiles restantes
   ğŸ§¬ Generating embeddings for 2 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-2...
      âœ… Batch 1 complete: 2 embeddings generated
   âœ… Generated 2 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 2 embeddings in Firestore...
   âœ… Stored 2 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 2 chunks to BigQuery...
âœ… 2 chunks synced to BigQuery
   âœ… Synced 2 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 2.3s
      ğŸ“¦ 2 chunks creados
      ğŸ§¬ 2 embeddings generados (768-dim)
      ğŸ¯ 1,968 tokens totales
      ğŸ’° Costo embeddings: $0.000039
   âœ… Chunking completado: 2 chunks creados
   âœ… Embeddings generados: 2 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 984
   ğŸ’° Costo embeddings: $0.000039
   â±ï¸  Tiempo RAG: 2.3s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.PROCEDIMIENTO ENTREGA OBRA A POST VENTA-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 12 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.1.PROCEDIMIENTO INICIO DE OBRAS DE EDIFICACION-(V.0).PDF
ğŸ“Š Progreso global: 11 completados, 51 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO INICIO DE OBRAS DE EDIFICACION-(V.0).PDF
   ğŸ“¤ 3.5% (64.0 KB/1.78 MB) @ 7.81 MB/s   ğŸ“¤ 7.0% (128.0 KB/1.78 MB) @ 10.42 MB/s   ğŸ“¤ 10.6% (192.0 KB/1.78 MB) @ 14.42 MB/s   ğŸ“¤ 14.1% (256.0 KB/1.78 MB) @ 1.00 MB/s   ğŸ“¤ 17.6% (320.0 KB/1.78 MB) @ 1.24 MB/s   ğŸ“¤ 21.1% (384.0 KB/1.78 MB) @ 1.48 MB/s   ğŸ“¤ 24.6% (448.0 KB/1.78 MB) @ 1.66 MB/s   ğŸ“¤ 28.2% (512.0 KB/1.78 MB) @ 1.89 MB/s   ğŸ“¤ 31.7% (576.0 KB/1.78 MB) @ 2.11 MB/s   ğŸ“¤ 35.2% (640.0 KB/1.78 MB) @ 2.33 MB/s   ğŸ“¤ 38.7% (704.0 KB/1.78 MB) @ 2.54 MB/s   ğŸ“¤ 42.2% (768.0 KB/1.78 MB) @ 908.9 KB/s   ğŸ“¤ 45.8% (832.0 KB/1.78 MB) @ 983.5 KB/s   ğŸ“¤ 49.3% (896.0 KB/1.78 MB) @ 1.03 MB/s   ğŸ“¤ 52.8% (960.0 KB/1.78 MB) @ 1.10 MB/s   ğŸ“¤ 56.3% (1.00 MB/1.78 MB) @ 1.17 MB/s   ğŸ“¤ 59.8% (1.06 MB/1.78 MB) @ 917.4 KB/s   ğŸ“¤ 63.3% (1.13 MB/1.78 MB) @ 949.7 KB/s   ğŸ“¤ 66.9% (1.19 MB/1.78 MB) @ 895.4 KB/s   ğŸ“¤ 70.4% (1.25 MB/1.78 MB) @ 908.4 KB/s   ğŸ“¤ 73.9% (1.31 MB/1.78 MB) @ 950.5 KB/s   ğŸ“¤ 77.4% (1.38 MB/1.78 MB) @ 894.0 KB/s   ğŸ“¤ 80.9% (1.44 MB/1.78 MB) @ 934.0 KB/s   ğŸ“¤ 84.5% (1.50 MB/1.78 MB) @ 974.0 KB/s   ğŸ“¤ 88.0% (1.56 MB/1.78 MB) @ 1012.0 KB/s   ğŸ“¤ 91.5% (1.63 MB/1.78 MB) @ 1.03 MB/s   ğŸ“¤ 95.0% (1.69 MB/1.78 MB) @ 1.07 MB/s   ğŸ“¤ 98.5% (1.75 MB/1.78 MB) @ 1.10 MB/s   ğŸ“¤ 100.0% (1.78 MB/1.78 MB) @ 1.12 MB/s   âœ… Subido en 2.2s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO INICIO DE OBRAS DE EDIFICACION-(V.0).PDF

   âœ… Upload exitoso en 2.2s (822.1 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.1.PROCEDIMIENTO INICIO DE OBRAS DE EDIFICACION-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.1.PROCEDIMIENTO INICIO DE OBRAS DE EDIFICACION-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1818.51 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.1.PROCEDIMIENTO INICIO DE OBRAS DE EDIFICACION-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1818.51 KB
   ğŸ”„ Enviando a Gemini AI...
..........................................................................................................................................
   âœ… ExtracciÃ³n completa en 276.4s
   ğŸ“ 1,920,442 caracteres extraÃ­dos
   ğŸ¯ ~480,111 tokens estimados
   ğŸ’° Costo estimado: $0.144190
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

---

# n EDIFICACIÃ“N

| REV | FECHA      | ELABORADO | REVISADO | APROBADO | MODIFICACIONES |
| :-- | :--------- | :-------- | :------...
   âœ… ExtracciÃ³n exitosa en 276.4s
   ğŸ“ Caracteres extraÃ­dos: 1,920,442
   ğŸ¯ Tokens estimados: ~480,111
   ğŸ“¥ Input tokens: 2,092
   ğŸ“¤ Output tokens: 480,111
   ğŸ’° Costo: $0.144190
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.1.PROCEDIMIENTO INICIO DE OBRAS DE EDIFICACION-(V.0).PDF failed: 3 INVALID_ARGUMENT: The value of property "extractedData" is longer than 1048487 bytes.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 13 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: RESUMEN Y PREGUNTAS.docx.pdf
ğŸ“Š Progreso global: 12 completados, 50 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/RESUMEN Y PREGUNTAS.docx.pdf
   ğŸ“¤ 55.7% (64.0 KB/115.0 KB) @ 12.50 MB/s   ğŸ“¤ 100.0% (115.0 KB/115.0 KB) @ 11.23 MB/s   âœ… Subido en 1.3s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/RESUMEN Y PREGUNTAS.docx.pdf

   âœ… Upload exitoso en 1.3s (87.9 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/RESUMEN Y PREGUNTAS.docx.pdf
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: RESUMEN Y PREGUNTAS.docx.pdf
   ğŸ“Š TamaÃ±o: 114.96 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.1. CALIDAD Y OPERACIÃ“N DE OBRA/RESUMEN Y PREGUNTAS.docx.pdf
   ğŸ“Š TamaÃ±o: 114.96 KB
   ğŸ”„ Enviando a Gemini AI...
...
   âœ… ExtracciÃ³n completa en 6.5s
   ğŸ“ 1,399 caracteres extraÃ­dos
   ğŸ¯ ~350 tokens estimados
   ğŸ’° Costo estimado: $0.000131
   ğŸ‘ï¸  Preview: # Proceso ContrataciÃ³n Subcontratistas:

## a) PrecalificaciÃ³n Administrativa

Durante el proceso de selecciÃ³n y previo a la cotizaciÃ³n, el ESO deberÃ¡ verificar que los participantes a cotizar se encu...
   âœ… ExtracciÃ³n exitosa en 6.5s
   ğŸ“ Caracteres extraÃ­dos: 1,399
   ğŸ¯ Tokens estimados: ~350
   ğŸ“¥ Input tokens: 348
   ğŸ“¤ Output tokens: 350
   ğŸ’° Costo: $0.000131
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: iprThaTOhBuc5F6ecCYs
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 1,399 caracteres
   ğŸ“Š Tokens estimados: ~350 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 1 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 350 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 1 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-1...
      âœ… Batch 1 complete: 1 embeddings generated
   âœ… Generated 1 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 1 embeddings in Firestore...
   âœ… Stored 1 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 1 chunks to BigQuery...
âœ… 1 chunks synced to BigQuery
   âœ… Synced 1 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 1.4s
      ğŸ“¦ 1 chunks creados
      ğŸ§¬ 1 embeddings generados (768-dim)
      ğŸ¯ 350 tokens totales
      ğŸ’° Costo embeddings: $0.000007
   âœ… Chunking completado: 1 chunks creados
   âœ… Embeddings generados: 1 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 350
   ğŸ’° Costo embeddings: $0.000007
   â±ï¸  Tiempo RAG: 1.4s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ RESUMEN Y PREGUNTAS.docx.pdf failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 14 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.2.PROCEDIMIENTO ELABORACION Y CONTROL CH-(V.0).PDF
ğŸ“Š Progreso global: 13 completados, 49 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.PROCEDIMIENTO ELABORACION Y CONTROL CH-(V.0).PDF
   ğŸ“¤ 9.5% (64.0 KB/675.6 KB) @ 12.50 MB/s   ğŸ“¤ 18.9% (128.0 KB/675.6 KB) @ 12.50 MB/s   ğŸ“¤ 28.4% (192.0 KB/675.6 KB) @ 17.05 MB/s   ğŸ“¤ 37.9% (256.0 KB/675.6 KB) @ 251.7 KB/s   ğŸ“¤ 47.4% (320.0 KB/675.6 KB) @ 314.7 KB/s   ğŸ“¤ 56.8% (384.0 KB/675.6 KB) @ 376.5 KB/s   ğŸ“¤ 66.3% (448.0 KB/675.6 KB) @ 435.8 KB/s   ğŸ“¤ 75.8% (512.0 KB/675.6 KB) @ 497.1 KB/s   ğŸ“¤ 85.3% (576.0 KB/675.6 KB) @ 558.7 KB/s   ğŸ“¤ 94.7% (640.0 KB/675.6 KB) @ 620.2 KB/s   ğŸ“¤ 100.0% (675.6 KB/675.6 KB) @ 654.0 KB/s   âœ… Subido en 2.3s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.PROCEDIMIENTO ELABORACION Y CONTROL CH-(V.0).PDF

   âœ… Upload exitoso en 2.3s (297.0 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.PROCEDIMIENTO ELABORACION Y CONTROL CH-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.2.PROCEDIMIENTO ELABORACION Y CONTROL CH-(V.0).PDF
   ğŸ“Š TamaÃ±o: 675.63 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.2. CONTROL MATERIALES Y ENSAYOS/GOP-P-PCO-2.2.PROCEDIMIENTO ELABORACION Y CONTROL CH-(V.0).PDF
   ğŸ“Š TamaÃ±o: 675.63 KB
   ğŸ”„ Enviando a Gemini AI...
.............
   âœ… ExtracciÃ³n completa en 26.7s
   ğŸ“ 17,145 caracteres extraÃ­dos
   ğŸ¯ ~4,287 tokens estimados
   ğŸ’° Costo estimado: $0.001355
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

# Page 1

n
EDIFICACIÃ“N

| 0 | 26-07-2024 | GOP | GOP | GOP | ElaboraciÃ³n documento |
|---|---|---|---|---|---|
| VER | FECHA | ELABOR...
   âœ… ExtracciÃ³n exitosa en 26.7s
   ğŸ“ Caracteres extraÃ­dos: 17,145
   ğŸ¯ Tokens estimados: ~4,287
   ğŸ“¥ Input tokens: 922
   ğŸ“¤ Output tokens: 4,287
   ğŸ’° Costo: $0.001355
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: 817oLc4eA2wqt7AIz6v3
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 17,145 caracteres
   ğŸ“Š Tokens estimados: ~4,287 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 5 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 899 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 5 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-5...
      âœ… Batch 1 complete: 5 embeddings generated
   âœ… Generated 5 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 5 embeddings in Firestore...
   âœ… Stored 5 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 5 chunks to BigQuery...
âœ… 5 chunks synced to BigQuery
   âœ… Synced 5 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 4.3s
      ğŸ“¦ 5 chunks creados
      ğŸ§¬ 5 embeddings generados (768-dim)
      ğŸ¯ 4,493 tokens totales
      ğŸ’° Costo embeddings: $0.000090
   âœ… Chunking completado: 5 chunks creados
   âœ… Embeddings generados: 5 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 899
   ğŸ’° Costo embeddings: $0.000090
   â±ï¸  Tiempo RAG: 4.3s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.2.PROCEDIMIENTO ELABORACION Y CONTROL CH-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 15 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4)(1).PDF
ğŸ“Š Progreso global: 14 completados, 48 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4)(1).PDF
   ğŸ“¤ 8.4% (64.0 KB/759.6 KB) @ 15.63 MB/s   ğŸ“¤ 16.9% (128.0 KB/759.6 KB) @ 13.89 MB/s   ğŸ“¤ 25.3% (192.0 KB/759.6 KB) @ 18.75 MB/s   ğŸ“¤ 33.7% (256.0 KB/759.6 KB) @ 1.10 MB/s   ğŸ“¤ 42.1% (320.0 KB/759.6 KB) @ 1.37 MB/s   ğŸ“¤ 50.6% (384.0 KB/759.6 KB) @ 1.62 MB/s   ğŸ“¤ 59.0% (448.0 KB/759.6 KB) @ 1.85 MB/s   ğŸ“¤ 67.4% (512.0 KB/759.6 KB) @ 2.08 MB/s   ğŸ“¤ 75.8% (576.0 KB/759.6 KB) @ 2.32 MB/s   ğŸ“¤ 84.3% (640.0 KB/759.6 KB) @ 2.56 MB/s   ğŸ“¤ 92.7% (704.0 KB/759.6 KB) @ 2.81 MB/s   ğŸ“¤ 100.0% (759.6 KB/759.6 KB) @ 883.2 KB/s   âœ… Subido en 2.1s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4)(1).PDF

   âœ… Upload exitoso en 2.1s (356.6 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4)(1).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4)(1).PDF
   ğŸ“Š TamaÃ±o: 759.59 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.2. CONTROL MATERIALES Y ENSAYOS/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4)(1).PDF
   ğŸ“Š TamaÃ±o: 759.59 KB
   ğŸ”„ Enviando a Gemini AI...
................
   âœ… ExtracciÃ³n completa en 32.2s
   ğŸ“ 14,950 caracteres extraÃ­dos
   ğŸ¯ ~3,738 tokens estimados
   ğŸ’° Costo estimado: $0.001197
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

# Page 1

n
EDIFICACIÃ“N

## TRAZABILIDAD, CERTIFICADOS Y ENSAYOS

GOP-P-PCO-2.2.

| VER | FECHA | ELABORADO | REVISADO | APROBADO | MO...
   âœ… ExtracciÃ³n exitosa en 32.2s
   ğŸ“ Caracteres extraÃ­dos: 14,950
   ğŸ¯ Tokens estimados: ~3,738
   ğŸ“¥ Input tokens: 1,008
   ğŸ“¤ Output tokens: 3,738
   ğŸ’° Costo: $0.001197
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: IOeQs2HBTZqydR66LnvO
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 14,950 caracteres
   ğŸ“Š Tokens estimados: ~3,738 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 5 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 789 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 5 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-5...
      âœ… Batch 1 complete: 5 embeddings generated
   âœ… Generated 5 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 5 embeddings in Firestore...
   âœ… Stored 5 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 5 chunks to BigQuery...
âœ… 5 chunks synced to BigQuery
   âœ… Synced 5 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 4.3s
      ğŸ“¦ 5 chunks creados
      ğŸ§¬ 5 embeddings generados (768-dim)
      ğŸ¯ 3,943 tokens totales
      ğŸ’° Costo embeddings: $0.000079
   âœ… Chunking completado: 5 chunks creados
   âœ… Embeddings generados: 5 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 789
   ğŸ’° Costo embeddings: $0.000079
   â±ï¸  Tiempo RAG: 4.3s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4)(1).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 16 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4).PDF
ğŸ“Š Progreso global: 15 completados, 47 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4).PDF
   ğŸ“¤ 8.4% (64.0 KB/759.6 KB) @ 20.83 MB/s   ğŸ“¤ 16.9% (128.0 KB/759.6 KB) @ 20.83 MB/s   ğŸ“¤ 25.3% (192.0 KB/759.6 KB) @ 26.79 MB/s   ğŸ“¤ 33.7% (256.0 KB/759.6 KB) @ 276.2 KB/s   ğŸ“¤ 42.1% (320.0 KB/759.6 KB) @ 344.8 KB/s   ğŸ“¤ 50.6% (384.0 KB/759.6 KB) @ 411.6 KB/s   ğŸ“¤ 59.0% (448.0 KB/759.6 KB) @ 475.1 KB/s   ğŸ“¤ 67.4% (512.0 KB/759.6 KB) @ 542.4 KB/s   ğŸ“¤ 75.8% (576.0 KB/759.6 KB) @ 610.2 KB/s   ğŸ“¤ 84.3% (640.0 KB/759.6 KB) @ 675.8 KB/s   ğŸ“¤ 92.7% (704.0 KB/759.6 KB) @ 741.8 KB/s   ğŸ“¤ 100.0% (759.6 KB/759.6 KB) @ 799.6 KB/s   âœ… Subido en 2.2s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4).PDF

   âœ… Upload exitoso en 2.2s (344.6 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4).PDF
   ğŸ“Š TamaÃ±o: 759.59 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.2. CONTROL MATERIALES Y ENSAYOS/GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4).PDF
   ğŸ“Š TamaÃ±o: 759.59 KB
   ğŸ”„ Enviando a Gemini AI...
..............
   âœ… ExtracciÃ³n completa en 28.8s
   ğŸ“ 14,702 caracteres extraÃ­dos
   ğŸ¯ ~3,676 tokens estimados
   ğŸ’° Costo estimado: $0.001178
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

# Page 1

n
EDIFICACIÃ“N

| 4 | 14-08-2024 | GOP | COMISIÃ“N | GE | ActualizaciÃ³n archivo 2024 |
|---|---|---|---|---|---|
| 3 | 04-12-2...
   âœ… ExtracciÃ³n exitosa en 28.8s
   ğŸ“ Caracteres extraÃ­dos: 14,702
   ğŸ¯ Tokens estimados: ~3,676
   ğŸ“¥ Input tokens: 1,008
   ğŸ“¤ Output tokens: 3,676
   ğŸ’° Costo: $0.001178
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: 5AAO54kS7vlGRoAaqpxa
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 14,702 caracteres
   ğŸ“Š Tokens estimados: ~3,676 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 5 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 776 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 5 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-5...
      âœ… Batch 1 complete: 5 embeddings generated
   âœ… Generated 5 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 5 embeddings in Firestore...
   âœ… Stored 5 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 5 chunks to BigQuery...
âœ… 5 chunks synced to BigQuery
   âœ… Synced 5 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 4.3s
      ğŸ“¦ 5 chunks creados
      ğŸ§¬ 5 embeddings generados (768-dim)
      ğŸ¯ 3,881 tokens totales
      ğŸ’° Costo embeddings: $0.000078
   âœ… Chunking completado: 5 chunks creados
   âœ… Embeddings generados: 5 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 776
   ğŸ’° Costo embeddings: $0.000078
   â±ï¸  Tiempo RAG: 4.3s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.2.TRAZABILIDAD, CERTIFICADOS Y ENSAYOS-(V.4).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 17 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-R-PCO-2.4.MINUTA_DE_REUNION-(V.0).DOCX.pdf
ğŸ“Š Progreso global: 16 completados, 46 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-R-PCO-2.4.MINUTA_DE_REUNION-(V.0).DOCX.pdf
   ğŸ“¤ 35.1% (64.0 KB/182.6 KB) @ 15.63 MB/s   ğŸ“¤ 70.1% (128.0 KB/182.6 KB) @ 15.63 MB/s   ğŸ“¤ 100.0% (182.6 KB/182.6 KB) @ 19.81 MB/s   âœ… Subido en 1.4s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-R-PCO-2.4.MINUTA_DE_REUNION-(V.0).DOCX.pdf

   âœ… Upload exitoso en 1.4s (131.1 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-R-PCO-2.4.MINUTA_DE_REUNION-(V.0).DOCX.pdf
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-R-PCO-2.4.MINUTA_DE_REUNION-(V.0).DOCX.pdf
   ğŸ“Š TamaÃ±o: 182.57 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.4 CONTROL DE DOCUMENTOS E INFORMACIÃ“N/GOP-R-PCO-2.4.MINUTA_DE_REUNION-(V.0).DOCX.pdf
   ğŸ“Š TamaÃ±o: 182.57 KB
   ğŸ”„ Enviando a Gemini AI...
....................................................................................................................................
   âœ… ExtracciÃ³n completa en 265.7s
   ğŸ“ 113,069 caracteres extraÃ­dos
   ğŸ¯ ~28,268 tokens estimados
   ğŸ’° Costo estimado: $0.008512
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed page by page:

---

# Page 1

## Header
n
EDIFICACIÃ“N
GOP-R-PCO-2.4.
MINUTA DE REUNION
VersiÃ³n: 0
24-07-204

## TIPO DE REUNIÃ“N
01 ...
   âœ… ExtracciÃ³n exitosa en 265.7s
   ğŸ“ Caracteres extraÃ­dos: 113,069
   ğŸ¯ Tokens estimados: ~28,268
   ğŸ“¥ Input tokens: 417
   ğŸ“¤ Output tokens: 28,268
   ğŸ’° Costo: $0.008512
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: SSv4KI3dAX75gUx0Gb7Y
   â±ï¸  Tiempo: 1.3s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 113,069 caracteres
   ğŸ“Š Tokens estimados: ~28,268 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 30 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 992 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 30 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-30...
      âœ… Batch 1 complete: 30 embeddings generated
   âœ… Generated 30 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 30 embeddings in Firestore...
   âœ… Stored 30 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 30 chunks to BigQuery...
âœ… 30 chunks synced to BigQuery
   âœ… Synced 30 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 24.0s
      ğŸ“¦ 30 chunks creados
      ğŸ§¬ 30 embeddings generados (768-dim)
      ğŸ¯ 29,747 tokens totales
      ğŸ’° Costo embeddings: $0.000595
   âœ… Chunking completado: 30 chunks creados
   âœ… Embeddings generados: 30 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 992
   ğŸ’° Costo embeddings: $0.000595
   â±ï¸  Tiempo RAG: 24.0s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-R-PCO-2.4.MINUTA_DE_REUNION-(V.0).DOCX.pdf failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 18 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.5.RESPONSABILIDADES EN PORTERIA-(V.0).PDF
ğŸ“Š Progreso global: 17 completados, 45 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.5.RESPONSABILIDADES EN PORTERIA-(V.0).PDF
   ğŸ“¤ 7.6% (64.0 KB/847.5 KB) @ 12.50 MB/s   ğŸ“¤ 15.1% (128.0 KB/847.5 KB) @ 15.63 MB/s   ğŸ“¤ 22.7% (192.0 KB/847.5 KB) @ 23.44 MB/s   ğŸ“¤ 30.2% (256.0 KB/847.5 KB) @ 271.8 KB/s   ğŸ“¤ 37.8% (320.0 KB/847.5 KB) @ 339.3 KB/s   ğŸ“¤ 45.3% (384.0 KB/847.5 KB) @ 405.9 KB/s   ğŸ“¤ 52.9% (448.0 KB/847.5 KB) @ 468.6 KB/s   ğŸ“¤ 60.4% (512.0 KB/847.5 KB) @ 535.0 KB/s   ğŸ“¤ 68.0% (576.0 KB/847.5 KB) @ 601.9 KB/s   ğŸ“¤ 75.5% (640.0 KB/847.5 KB) @ 665.3 KB/s   ğŸ“¤ 83.1% (704.0 KB/847.5 KB) @ 731.0 KB/s   ğŸ“¤ 90.6% (768.0 KB/847.5 KB) @ 796.7 KB/s   ğŸ“¤ 98.2% (832.0 KB/847.5 KB) @ 862.2 KB/s   ğŸ“¤ 100.0% (847.5 KB/847.5 KB) @ 876.4 KB/s   âœ… Subido en 2.3s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.5.RESPONSABILIDADES EN PORTERIA-(V.0).PDF

   âœ… Upload exitoso en 2.3s (370.1 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.5.RESPONSABILIDADES EN PORTERIA-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.5.RESPONSABILIDADES EN PORTERIA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 847.49 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/2.5 CONTROL PORTERIA OBRA/GOP-P-PCO-2.5.RESPONSABILIDADES EN PORTERIA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 847.49 KB
   ğŸ”„ Enviando a Gemini AI...
..........
   âœ… ExtracciÃ³n completa en 21.2s
   ğŸ“ 11,829 caracteres extraÃ­dos
   ğŸ¯ ~2,958 tokens estimados
   ğŸ’° Costo estimado: $0.000970
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

---

# Page 1

n
EDIFICACIÃ“N

| 0   | 07-11-2024 | GOP       | GA        | CO        | MODIFICACIONES |
| :-- | :--------- | :--------...
   âœ… ExtracciÃ³n exitosa en 21.2s
   ğŸ“ Caracteres extraÃ­dos: 11,829
   ğŸ¯ Tokens estimados: ~2,958
   ğŸ“¥ Input tokens: 1,098
   ğŸ“¤ Output tokens: 2,958
   ğŸ’° Costo: $0.000970
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: g7umEpmbtXDDAnEoXrtv
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 11,829 caracteres
   ğŸ“Š Tokens estimados: ~2,958 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 4 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 778 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 4 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-4...
      âœ… Batch 1 complete: 4 embeddings generated
   âœ… Generated 4 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 4 embeddings in Firestore...
   âœ… Stored 4 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 4 chunks to BigQuery...
âœ… 4 chunks synced to BigQuery
   âœ… Synced 4 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 3.4s
      ğŸ“¦ 4 chunks creados
      ğŸ§¬ 4 embeddings generados (768-dim)
      ğŸ¯ 3,111 tokens totales
      ğŸ’° Costo embeddings: $0.000062
   âœ… Chunking completado: 4 chunks creados
   âœ… Embeddings generados: 4 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 778
   ğŸ’° Costo embeddings: $0.000062
   â±ï¸  Tiempo RAG: 3.4s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.5.RESPONSABILIDADES EN PORTERIA-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 19 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-D-PCO-2.PLAN DE CALIDAD Y OPERACION-(V.1).PDF
ğŸ“Š Progreso global: 18 completados, 44 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-D-PCO-2.PLAN DE CALIDAD Y OPERACION-(V.1).PDF
   ğŸ“¤ 9.0% (64.0 KB/711.4 KB) @ 20.83 MB/s   ğŸ“¤ 18.0% (128.0 KB/711.4 KB) @ 25.00 MB/s   ğŸ“¤ 27.0% (192.0 KB/711.4 KB) @ 37.50 MB/s   ğŸ“¤ 36.0% (256.0 KB/711.4 KB) @ 278.6 KB/s   ğŸ“¤ 45.0% (320.0 KB/711.4 KB) @ 348.2 KB/s   ğŸ“¤ 54.0% (384.0 KB/711.4 KB) @ 416.5 KB/s   ğŸ“¤ 63.0% (448.0 KB/711.4 KB) @ 481.2 KB/s   ğŸ“¤ 72.0% (512.0 KB/711.4 KB) @ 549.4 KB/s   ğŸ“¤ 81.0% (576.0 KB/711.4 KB) @ 618.0 KB/s   ğŸ“¤ 90.0% (640.0 KB/711.4 KB) @ 685.2 KB/s   ğŸ“¤ 99.0% (704.0 KB/711.4 KB) @ 752.1 KB/s   ğŸ“¤ 100.0% (711.4 KB/711.4 KB) @ 760.0 KB/s   âœ… Subido en 2.1s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-D-PCO-2.PLAN DE CALIDAD Y OPERACION-(V.1).PDF

   âœ… Upload exitoso en 2.1s (334.8 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-D-PCO-2.PLAN DE CALIDAD Y OPERACION-(V.1).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-D-PCO-2.PLAN DE CALIDAD Y OPERACION-(V.1).PDF
   ğŸ“Š TamaÃ±o: 711.36 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/GOP-D-PCO-2.PLAN DE CALIDAD Y OPERACION-(V.1).PDF
   ğŸ“Š TamaÃ±o: 711.36 KB
   ğŸ”„ Enviando a Gemini AI...
................
   âœ… ExtracciÃ³n completa en 32.9s
   ğŸ“ 58,102 caracteres extraÃ­dos
   ğŸ¯ ~14,526 tokens estimados
   ğŸ’° Costo estimado: $0.004430
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

# EDIFICACIÃ“N

| 1 | 29-11-2024 | GOP | GOP | GE | Control ActualizaciÃ³n |
|---|---|---|---|---|---|
| 0 | 01-08-2023 | COMISION | CO/...
   âœ… ExtracciÃ³n exitosa en 32.9s
   ğŸ“ Caracteres extraÃ­dos: 58,102
   ğŸ¯ Tokens estimados: ~14,526
   ğŸ“¥ Input tokens: 958
   ğŸ“¤ Output tokens: 14,526
   ğŸ’° Costo: $0.004430
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: nDvIaxKR08TqVCSaDoAc
   â±ï¸  Tiempo: 0.4s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 58,102 caracteres
   ğŸ“Š Tokens estimados: ~14,526 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 16 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 956 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ—‘ï¸ Filtered 16 low-quality chunks
   ğŸ—‘ï¸ Filtrados 16 chunks de baja calidad
   âœ… 0 chunks Ãºtiles restantes
   ğŸ§¬ Generating embeddings for 0 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
   âœ… Generated 0 embeddings (0 dimensions each)
   ğŸ“Š Processed in 0 batches
   ğŸ’¾ Storing 0 embeddings in Firestore...
   âœ… Stored 0 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
   âœ… Synced 0 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 0.2s
      ğŸ“¦ 0 chunks creados
      ğŸ§¬ 0 embeddings generados (768-dim)
      ğŸ¯ 0 tokens totales
      ğŸ’° Costo embeddings: $0.000000
   âœ… Chunking completado: 0 chunks creados
   âœ… Embeddings generados: 0 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: NaN
   ğŸ’° Costo embeddings: $0.000000
   â±ï¸  Tiempo RAG: 0.2s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-D-PCO-2.PLAN DE CALIDAD Y OPERACION-(V.1).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 20 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PCO-2.ELABORACION DE DOCUMENTOS-(V.0).PDF
ğŸ“Š Progreso global: 19 completados, 43 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.ELABORACION DE DOCUMENTOS-(V.0).PDF
   ğŸ“¤ 18.0% (64.0 KB/356.3 KB) @ 20.83 MB/s   ğŸ“¤ 35.9% (128.0 KB/356.3 KB) @ 20.83 MB/s   ğŸ“¤ 53.9% (192.0 KB/356.3 KB) @ 26.79 MB/s   ğŸ“¤ 71.8% (256.0 KB/356.3 KB) @ 246.6 KB/s   ğŸ“¤ 89.8% (320.0 KB/356.3 KB) @ 308.3 KB/s   ğŸ“¤ 100.0% (356.3 KB/356.3 KB) @ 342.0 KB/s   âœ… Subido en 1.9s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.ELABORACION DE DOCUMENTOS-(V.0).PDF

   âœ… Upload exitoso en 1.9s (190.9 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PCO-2.ELABORACION DE DOCUMENTOS-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PCO-2.ELABORACION DE DOCUMENTOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 356.34 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/2. PLAN DE CALIDAD Y OPERACIÃ“N DE OBRA/GOP-P-PCO-2.ELABORACION DE DOCUMENTOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 356.34 KB
   ğŸ”„ Enviando a Gemini AI...
.......
   âœ… ExtracciÃ³n completa en 14.1s
   ğŸ“ 8,182 caracteres extraÃ­dos
   ğŸ¯ ~2,046 tokens estimados
   ğŸ’° Costo estimado: $0.000658
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from beginning to end, with clear structure using Markdown headings:

---

# Page 1

n
EDIFICACIÃ“N

| 0        | 18-07...
   âœ… ExtracciÃ³n exitosa en 14.1s
   ğŸ“ Caracteres extraÃ­dos: 8,182
   ğŸ¯ Tokens estimados: ~2,046
   ğŸ“¥ Input tokens: 595
   ğŸ“¤ Output tokens: 2,046
   ğŸ’° Costo: $0.000658
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: L42aqi1U4utxT6hLBCnx
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 8,182 caracteres
   ğŸ“Š Tokens estimados: ~2,046 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 3 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 716 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 3 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-3...
      âœ… Batch 1 complete: 3 embeddings generated
   âœ… Generated 3 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 3 embeddings in Firestore...
   âœ… Stored 3 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 3 chunks to BigQuery...
âœ… 3 chunks synced to BigQuery
   âœ… Synced 3 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 2.3s
      ğŸ“¦ 3 chunks creados
      ğŸ§¬ 3 embeddings generados (768-dim)
      ğŸ¯ 2,149 tokens totales
      ğŸ’° Costo embeddings: $0.000043
   âœ… Chunking completado: 3 chunks creados
   âœ… Embeddings generados: 3 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 716
   ğŸ’° Costo embeddings: $0.000043
   â±ï¸  Tiempo RAG: 2.3s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PCO-2.ELABORACION DE DOCUMENTOS-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 21 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PF-3.1.ANEXO 1 MANO DE OBRA-(V.0).PDF
ğŸ“Š Progreso global: 20 completados, 42 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 1 MANO DE OBRA-(V.0).PDF
   ğŸ“¤ 9.0% (64.0 KB/707.6 KB) @ 31.25 MB/s   ğŸ“¤ 18.1% (128.0 KB/707.6 KB) @ 31.25 MB/s   ğŸ“¤ 27.1% (192.0 KB/707.6 KB) @ 37.50 MB/s   ğŸ“¤ 36.2% (256.0 KB/707.6 KB) @ 1.12 MB/s   ğŸ“¤ 45.2% (320.0 KB/707.6 KB) @ 1.40 MB/s   ğŸ“¤ 54.3% (384.0 KB/707.6 KB) @ 1.65 MB/s   ğŸ“¤ 63.3% (448.0 KB/707.6 KB) @ 1.88 MB/s   ğŸ“¤ 72.4% (512.0 KB/707.6 KB) @ 2.13 MB/s   ğŸ“¤ 81.4% (576.0 KB/707.6 KB) @ 2.38 MB/s   ğŸ“¤ 90.4% (640.0 KB/707.6 KB) @ 2.64 MB/s   ğŸ“¤ 99.5% (704.0 KB/707.6 KB) @ 2.88 MB/s   ğŸ“¤ 100.0% (707.6 KB/707.6 KB) @ 837.4 KB/s   âœ… Subido en 2.1s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 1 MANO DE OBRA-(V.0).PDF

   âœ… Upload exitoso en 2.1s (338.6 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 1 MANO DE OBRA-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PF-3.1.ANEXO 1 MANO DE OBRA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 707.58 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/3. PANEL FINANCIERO/3.1. ANEXOS PF/GOP-P-PF-3.1.ANEXO 1 MANO DE OBRA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 707.58 KB
   ğŸ”„ Enviando a Gemini AI...
...........
   âœ… ExtracciÃ³n completa en 22.7s
   ğŸ“ 10,486 caracteres extraÃ­dos
   ğŸ¯ ~2,622 tokens estimados
   ğŸ’° Costo estimado: $0.000858
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from beginning to end, with clear structure and tables in Markdown format:

# Page 1

n
EDIFICACIÃ“N

| 0 | 16-08-2024 ...
   âœ… ExtracciÃ³n exitosa en 22.7s
   ğŸ“ Caracteres extraÃ­dos: 10,486
   ğŸ¯ Tokens estimados: ~2,622
   ğŸ“¥ Input tokens: 955
   ğŸ“¤ Output tokens: 2,622
   ğŸ’° Costo: $0.000858
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: K6bUQanE2mzR2EyvUn9h
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 10,486 caracteres
   ğŸ“Š Tokens estimados: ~2,622 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 3 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 908 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 3 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-3...
      âœ… Batch 1 complete: 3 embeddings generated
   âœ… Generated 3 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 3 embeddings in Firestore...
   âœ… Stored 3 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 3 chunks to BigQuery...
âœ… 3 chunks synced to BigQuery
   âœ… Synced 3 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 2.4s
      ğŸ“¦ 3 chunks creados
      ğŸ§¬ 3 embeddings generados (768-dim)
      ğŸ¯ 2,725 tokens totales
      ğŸ’° Costo embeddings: $0.000055
   âœ… Chunking completado: 3 chunks creados
   âœ… Embeddings generados: 3 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 908
   ğŸ’° Costo embeddings: $0.000055
   â±ï¸  Tiempo RAG: 2.4s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PF-3.1.ANEXO 1 MANO DE OBRA-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 22 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PF-3.1.ANEXO 2 MANO DE OBRA-(V.0).PDF
ğŸ“Š Progreso global: 21 completados, 41 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 2 MANO DE OBRA-(V.0).PDF
   ğŸ“¤ 4.0% (64.0 KB/1.55 MB) @ 31.25 MB/s   ğŸ“¤ 8.0% (128.0 KB/1.55 MB) @ 25.00 MB/s   ğŸ“¤ 12.1% (192.0 KB/1.55 MB) @ 37.50 MB/s   ğŸ“¤ 16.1% (256.0 KB/1.55 MB) @ 1.19 MB/s   ğŸ“¤ 20.1% (320.0 KB/1.55 MB) @ 1.49 MB/s   ğŸ“¤ 24.1% (384.0 KB/1.55 MB) @ 1.75 MB/s   ğŸ“¤ 28.2% (448.0 KB/1.55 MB) @ 2.00 MB/s   ğŸ“¤ 32.2% (512.0 KB/1.55 MB) @ 2.25 MB/s   ğŸ“¤ 36.2% (576.0 KB/1.55 MB) @ 2.53 MB/s   ğŸ“¤ 40.2% (640.0 KB/1.55 MB) @ 2.79 MB/s   ğŸ“¤ 44.3% (704.0 KB/1.55 MB) @ 3.04 MB/s   ğŸ“¤ 48.3% (768.0 KB/1.55 MB) @ 916.5 KB/s   ğŸ“¤ 52.3% (832.0 KB/1.55 MB) @ 991.7 KB/s   ğŸ“¤ 56.3% (896.0 KB/1.55 MB) @ 1.04 MB/s   ğŸ“¤ 60.4% (960.0 KB/1.55 MB) @ 1.11 MB/s   ğŸ“¤ 64.4% (1.00 MB/1.55 MB) @ 1.18 MB/s   ğŸ“¤ 68.4% (1.06 MB/1.55 MB) @ 894.7 KB/s   ğŸ“¤ 72.4% (1.13 MB/1.55 MB) @ 928.3 KB/s   ğŸ“¤ 76.4% (1.19 MB/1.55 MB) @ 858.2 KB/s   ğŸ“¤ 80.5% (1.25 MB/1.55 MB) @ 872.5 KB/s   ğŸ“¤ 84.5% (1.31 MB/1.55 MB) @ 914.3 KB/s   ğŸ“¤ 88.5% (1.38 MB/1.55 MB) @ 842.1 KB/s   ğŸ“¤ 92.5% (1.44 MB/1.55 MB) @ 879.9 KB/s   ğŸ“¤ 96.6% (1.50 MB/1.55 MB) @ 918.1 KB/s   ğŸ“¤ 100.0% (1.55 MB/1.55 MB) @ 950.2 KB/s   âœ… Subido en 2.4s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 2 MANO DE OBRA-(V.0).PDF

   âœ… Upload exitoso en 2.4s (667.2 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 2 MANO DE OBRA-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PF-3.1.ANEXO 2 MANO DE OBRA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1590.64 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/3. PANEL FINANCIERO/3.1. ANEXOS PF/GOP-P-PF-3.1.ANEXO 2 MANO DE OBRA-(V.0).PDF
   ğŸ“Š TamaÃ±o: 1590.64 KB
   ğŸ”„ Enviando a Gemini AI...
.................................
   âœ… ExtracciÃ³n completa en 67.3s
   ğŸ“ 26,436 caracteres extraÃ­dos
   ğŸ¯ ~6,609 tokens estimados
   ğŸ’° Costo estimado: $0.002122
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from beginning to end, with tables converted to Markdown format and clear structure using markdown headings.

# Page 1...
   âœ… ExtracciÃ³n exitosa en 67.3s
   ğŸ“ Caracteres extraÃ­dos: 26,436
   ğŸ¯ Tokens estimados: ~6,609
   ğŸ“¥ Input tokens: 1,859
   ğŸ“¤ Output tokens: 6,609
   ğŸ’° Costo: $0.002122
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: XK4zYQyryWER7amhinQs
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 26,436 caracteres
   ğŸ“Š Tokens estimados: ~6,609 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 8 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 871 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 8 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-8...
      âœ… Batch 1 complete: 8 embeddings generated
   âœ… Generated 8 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 8 embeddings in Firestore...
   âœ… Stored 8 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 8 chunks to BigQuery...
âœ… 8 chunks synced to BigQuery
   âœ… Synced 8 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 5.8s
      ğŸ“¦ 8 chunks creados
      ğŸ§¬ 8 embeddings generados (768-dim)
      ğŸ¯ 6,967 tokens totales
      ğŸ’° Costo embeddings: $0.000139
   âœ… Chunking completado: 8 chunks creados
   âœ… Embeddings generados: 8 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 871
   ğŸ’° Costo embeddings: $0.000139
   â±ï¸  Tiempo RAG: 5.8s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PF-3.1.ANEXO 2 MANO DE OBRA-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 23 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PF-3.1.ANEXO 3 EQUIPOS-(V.0).PDF
ğŸ“Š Progreso global: 22 completados, 40 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 3 EQUIPOS-(V.0).PDF
   ğŸ“¤ 10.1% (64.0 KB/631.4 KB) @ 10.42 MB/s   ğŸ“¤ 20.3% (128.0 KB/631.4 KB) @ 12.50 MB/s   ğŸ“¤ 30.4% (192.0 KB/631.4 KB) @ 17.05 MB/s   ğŸ“¤ 40.5% (256.0 KB/631.4 KB) @ 248.8 KB/s   ğŸ“¤ 50.7% (320.0 KB/631.4 KB) @ 310.7 KB/s   ğŸ“¤ 60.8% (384.0 KB/631.4 KB) @ 370.3 KB/s   ğŸ“¤ 71.0% (448.0 KB/631.4 KB) @ 427.1 KB/s   ğŸ“¤ 81.1% (512.0 KB/631.4 KB) @ 487.6 KB/s   ğŸ“¤ 91.2% (576.0 KB/631.4 KB) @ 548.0 KB/s   ğŸ“¤ 100.0% (631.4 KB/631.4 KB) @ 599.6 KB/s   âœ… Subido en 2.2s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 3 EQUIPOS-(V.0).PDF

   âœ… Upload exitoso en 2.2s (285.4 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 3 EQUIPOS-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PF-3.1.ANEXO 3 EQUIPOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 631.40 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/3. PANEL FINANCIERO/3.1. ANEXOS PF/GOP-P-PF-3.1.ANEXO 3 EQUIPOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 631.40 KB
   ğŸ”„ Enviando a Gemini AI...
..................
   âœ… ExtracciÃ³n completa en 37.5s
   ğŸ“ 25,920 caracteres extraÃ­dos
   ğŸ¯ ~6,480 tokens estimados
   ğŸ’° Costo estimado: $0.002010
   ğŸ‘ï¸  Preview: The complete text extracted from the PDF document is as follows:

# Page 1

n
EDIFICACIÃ“N

| 0   | 16-08-2024 | GOP       | COMISIÃ“N  | GE        | ActualizaciÃ³n Archivo 2024 |
| :-- | :--------- | :-...
   âœ… ExtracciÃ³n exitosa en 37.5s
   ğŸ“ Caracteres extraÃ­dos: 25,920
   ğŸ¯ Tokens estimados: ~6,480
   ğŸ“¥ Input tokens: 877
   ğŸ“¤ Output tokens: 6,480
   ğŸ’° Costo: $0.002010
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: dhQsMdrf35lWxl3TX5pp
   â±ï¸  Tiempo: 0.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 25,920 caracteres
   ğŸ“Š Tokens estimados: ~6,480 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 8 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 855 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 8 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/1: Processing chunks 1-8...
      âœ… Batch 1 complete: 8 embeddings generated
   âœ… Generated 8 embeddings (768 dimensions each)
   ğŸ“Š Processed in 1 batches
   ğŸ’¾ Storing 8 embeddings in Firestore...
   âœ… Stored 8 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 8 chunks to BigQuery...
âœ… 8 chunks synced to BigQuery
   âœ… Synced 8 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 6.2s
      ğŸ“¦ 8 chunks creados
      ğŸ§¬ 8 embeddings generados (768-dim)
      ğŸ¯ 6,839 tokens totales
      ğŸ’° Costo embeddings: $0.000137
   âœ… Chunking completado: 8 chunks creados
   âœ… Embeddings generados: 8 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 855
   ğŸ’° Costo embeddings: $0.000137
   â±ï¸  Tiempo RAG: 6.2s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PF-3.1.ANEXO 3 EQUIPOS-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 24 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PF-3.1.ANEXO 4 EQUIPOS-(V.0).PDF
ğŸ“Š Progreso global: 23 completados, 39 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 4 EQUIPOS-(V.0).PDF
   ğŸ“¤ 10.3% (64.0 KB/623.9 KB) @ 31.25 MB/s   ğŸ“¤ 20.5% (128.0 KB/623.9 KB) @ 25.00 MB/s   ğŸ“¤ 30.8% (192.0 KB/623.9 KB) @ 31.25 MB/s   ğŸ“¤ 41.0% (256.0 KB/623.9 KB) @ 281.3 KB/s   ğŸ“¤ 51.3% (320.0 KB/623.9 KB) @ 351.3 KB/s   ğŸ“¤ 61.5% (384.0 KB/623.9 KB) @ 420.1 KB/s   ğŸ“¤ 71.8% (448.0 KB/623.9 KB) @ 483.3 KB/s   ğŸ“¤ 82.1% (512.0 KB/623.9 KB) @ 551.7 KB/s   ğŸ“¤ 92.3% (576.0 KB/623.9 KB) @ 620.0 KB/s   ğŸ“¤ 100.0% (623.9 KB/623.9 KB) @ 670.9 KB/s   âœ… Subido en 2.1s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 4 EQUIPOS-(V.0).PDF

   âœ… Upload exitoso en 2.1s (295.6 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.1.ANEXO 4 EQUIPOS-(V.0).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PF-3.1.ANEXO 4 EQUIPOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 623.95 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/3. PANEL FINANCIERO/3.1. ANEXOS PF/GOP-P-PF-3.1.ANEXO 4 EQUIPOS-(V.0).PDF
   ğŸ“Š TamaÃ±o: 623.95 KB
   ğŸ”„ Enviando a Gemini AI...
...............................................................................................................................
   âœ… ExtracciÃ³n completa en 255.2s
   ğŸ“ 320,082 caracteres extraÃ­dos
   ğŸ¯ ~80,021 tokens estimados
   ğŸ’° Costo estimado: $0.024071
   ğŸ‘ï¸  Preview: Here is the complete extracted text from the PDF document, processed sequentially from page 1 to the last page, with clear structure using Markdown headings and tables.

# ANEXO 4 EQUIPOS

## Page 1

...
   âœ… ExtracciÃ³n exitosa en 255.2s
   ğŸ“ Caracteres extraÃ­dos: 320,082
   ğŸ¯ Tokens estimados: ~80,021
   ğŸ“¥ Input tokens: 869
   ğŸ“¤ Output tokens: 80,021
   ğŸ’° Costo: $0.024071
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_extracted',
  user: 'alec@getaifactory.com',
  operation: 'extract',
  success: true
}

ğŸ’¾ Paso 3/5: Guardando en Firestore...
   ğŸ“¦ Collection: context_sources
   ğŸ·ï¸  Tags: [M3-v2-20251125]
   ğŸ¤– Assigned to: vStojK73ZKbjNsEnqANJ
   âœ… Documento guardado exitosamente
   ğŸ†” Source ID: iDzAHY6fxSwIbKtBuVn2
   â±ï¸  Tiempo: 2.2s

ğŸ§¬ Paso 4/5: Procesando para RAG (chunking + embeddings)...
   ğŸ“Š Texto a procesar: 320,082 caracteres
   ğŸ“Š Tokens estimados: ~80,021 tokens

   ğŸ”¬ Paso 4/5: Preparando para RAG (Retrieval-Augmented Generation)... cyan
   ğŸ“ Chunking text (1000 tokens/chunk, 51 token overlap)...
   âœ… Created 85 chunks (with 51 token overlap)
   ğŸ“Š Average chunk size: 992 tokens
   ğŸ“Š Overlap: 51 tokens (5.1%)
   ğŸ§¬ Generating embeddings for 85 chunks...
   ğŸ¤– Model: text-embedding-004
   ğŸ“¦ Batch size: 32 chunks (optimized for throughput)
      ğŸ“¦ Batch 1/3: Processing chunks 1-32...
      âœ… Batch 1 complete: 32 embeddings generated
      ğŸ“¦ Batch 2/3: Processing chunks 33-64...
      âœ… Batch 2 complete: 32 embeddings generated
      ğŸ“¦ Batch 3/3: Processing chunks 65-85...
      âœ… Batch 3 complete: 21 embeddings generated
   âœ… Generated 85 embeddings (768 dimensions each)
   ğŸ“Š Processed in 3 batches
   ğŸ’¾ Storing 85 embeddings in Firestore...
   âœ… Stored 85 chunks in collection 'document_chunks'
   ğŸ“ Collection: https://console.firebase.google.com/project/gen-lang-client-0986191192/firestore/data/~2Fdocument_chunks
   ğŸ“Š Syncing to BigQuery for vector search...
ğŸ“¤ Syncing 85 chunks to BigQuery...
âœ… 85 chunks synced to BigQuery
   âœ… Synced 85 chunks to BigQuery
   âœ… Paso 4/5: RAG process completado en 65.8s
      ğŸ“¦ 85 chunks creados
      ğŸ§¬ 85 embeddings generados (768-dim)
      ğŸ¯ 84,305 tokens totales
      ğŸ’° Costo embeddings: $0.001686
   âœ… Chunking completado: 85 chunks creados
   âœ… Embeddings generados: 85 vectores (768 dimensiones)
   ğŸ“Š Promedio tokens/chunk: 992
   ğŸ’° Costo embeddings: $0.001686
   â±ï¸  Tiempo RAG: 65.8s

ğŸ“ Paso 5/5: Actualizando metadata RAG...
   âœ… Metadata actualizada
   ğŸ” RAG enabled: Yes

ğŸ”— Asignando a agente...
   ğŸ¤– Agente: vStojK73ZKbjNsEnqANJ
Error saving conversation context: Error: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp
    at callErrorFromStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/call.ts:84:17)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:360:55)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:466:34)
    at Object.onReceiveStatus (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)
    at <anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/resolving-call.ts:170:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
for call at
    at ServiceClientImpl.makeUnaryRequest (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/client.ts:325:42)
    at ServiceClientImpl.<anonymous> (/Users/alec/salfagpt/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:242:33
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)
    at repeat (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:110:19)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/retries.ts:157:7)
    at OngoingCallPromise.call (/Users/alec/salfagpt/node_modules/google-gax/src/call.ts:81:23)
    at NormalApiCaller.call (/Users/alec/salfagpt/node_modules/google-gax/src/normalCalls/normalApiCaller.ts:43:15)
    at <anonymous> (/Users/alec/salfagpt/node_modules/google-gax/src/createApiCall.ts:157:26)
Caused by: Error
    at _firestore._traceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:438:27)
    at /Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30
    at NoopContextManager.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts:31:15)
    at ContextAPI.with (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/api/context.ts:77:42)
    at NoopTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts:98:27)
    at ProxyTracer.startActiveSpan (/Users/alec/salfagpt/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)
    at EnabledTraceUtil.startActiveSpan (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:102:28)
    at WriteBatch.commit (/Users/alec/salfagpt/node_modules/@google-cloud/firestore/build/src/write-batch.js:436:43)
    at saveConversationContext (/Users/alec/salfagpt/src/lib/firestore.ts:1574:19)
    at async uploadSingleFile (/Users/alec/salfagpt/cli/commands/upload.ts:449:5) {
  code: 5,
  details: 'No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp',
  metadata: Metadata {
    internalRepr: Map(1) { 'x-debug-tracking-id' => [Array] },
    opaqueData: Map(0) {},
    options: {}
  },
  note: 'Exception occurred in retry method that was not classified as transient'
}
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_failed',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: false
}

âŒ GOP-P-PF-3.1.ANEXO 4 EQUIPOS-(V.0).PDF failed: 5 NOT_FOUND: No document to update: projects/salfagpt/databases/(default)/documents/context_sources/1EnH6gTnM6a33W4aUeNp

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“„ ARCHIVO 25 de 62
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Archivo: GOP-P-PF-3.PROCESO PANEL FINANCIERO PROYECTOS AFECTOS-(V.1) (1).PDF
ğŸ“Š Progreso global: 24 completados, 38 restantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¤ Paso 1/5: Subiendo a Cloud Storage...
   ğŸ“¤ Subiendo a GCS: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.PROCESO PANEL FINANCIERO PROYECTOS AFECTOS-(V.1) (1).PDF
   ğŸ“¤ 3.3% (64.0 KB/1.90 MB) @ 62.50 MB/s   ğŸ“¤ 6.6% (128.0 KB/1.90 MB) @ 41.67 MB/s   ğŸ“¤ 9.9% (192.0 KB/1.90 MB) @ 46.88 MB/s   ğŸ“¤ 13.2% (256.0 KB/1.90 MB) @ 238.1 KB/s   ğŸ“¤ 16.5% (320.0 KB/1.90 MB) @ 297.4 KB/s   ğŸ“¤ 19.8% (384.0 KB/1.90 MB) @ 355.6 KB/s   ğŸ“¤ 23.0% (448.0 KB/1.90 MB) @ 412.5 KB/s   ğŸ“¤ 26.3% (512.0 KB/1.90 MB) @ 470.6 KB/s   ğŸ“¤ 29.6% (576.0 KB/1.90 MB) @ 528.9 KB/s   ğŸ“¤ 32.9% (640.0 KB/1.90 MB) @ 587.7 KB/s   ğŸ“¤ 36.2% (704.0 KB/1.90 MB) @ 646.5 KB/s   ğŸ“¤ 39.5% (768.0 KB/1.90 MB) @ 704.6 KB/s   ğŸ“¤ 42.8% (832.0 KB/1.90 MB) @ 762.6 KB/s   ğŸ“¤ 46.1% (896.0 KB/1.90 MB) @ 820.5 KB/s   ğŸ“¤ 49.4% (960.0 KB/1.90 MB) @ 878.3 KB/s   ğŸ“¤ 52.7% (1.00 MB/1.90 MB) @ 933.5 KB/s   ğŸ“¤ 56.0% (1.06 MB/1.90 MB) @ 991.8 KB/s   ğŸ“¤ 59.3% (1.13 MB/1.90 MB) @ 1.02 MB/s   ğŸ“¤ 62.5% (1.19 MB/1.90 MB) @ 1.08 MB/s   ğŸ“¤ 65.8% (1.25 MB/1.90 MB) @ 1.14 MB/s   ğŸ“¤ 69.1% (1.31 MB/1.90 MB) @ 1.19 MB/s   ğŸ“¤ 72.4% (1.38 MB/1.90 MB) @ 1.25 MB/s   ğŸ“¤ 75.7% (1.44 MB/1.90 MB) @ 1.31 MB/s   ğŸ“¤ 79.0% (1.50 MB/1.90 MB) @ 1.36 MB/s   ğŸ“¤ 82.3% (1.56 MB/1.90 MB) @ 1.42 MB/s   ğŸ“¤ 85.6% (1.63 MB/1.90 MB) @ 1.48 MB/s   ğŸ“¤ 88.9% (1.69 MB/1.90 MB) @ 1.53 MB/s   ğŸ“¤ 92.2% (1.75 MB/1.90 MB) @ 1.59 MB/s   ğŸ“¤ 95.5% (1.81 MB/1.90 MB) @ 1.64 MB/s   ğŸ“¤ 98.8% (1.88 MB/1.90 MB) @ 1.70 MB/s   ğŸ“¤ 100.0% (1.90 MB/1.90 MB) @ 1.72 MB/s   âœ… Subido en 2.7s: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.PROCESO PANEL FINANCIERO PROYECTOS AFECTOS-(V.1) (1).PDF

   âœ… Upload exitoso en 2.7s (709.8 KB/s)
   ğŸ“ GCS Path: gs://salfagpt-context-documents/usr_uhwqffaqag1wrryd82tw/vStojK73ZKbjNsEnqANJ/GOP-P-PF-3.PROCESO PANEL FINANCIERO PROYECTOS AFECTOS-(V.1) (1).PDF
ğŸ“Š [DEV] Would track CLI event: {
  type: 'cli_file_uploaded',
  user: 'alec@getaifactory.com',
  operation: 'upload',
  success: true
}

ğŸ¤– Paso 2/5: Extrayendo contenido con Gemini AI...
   ğŸ“„ Archivo: GOP-P-PF-3.PROCESO PANEL FINANCIERO PROYECTOS AFECTOS-(V.1) (1).PDF
   ğŸ“Š TamaÃ±o: 1944.07 KB
   ğŸ¤– Modelo: gemini-2.5-flash
   â³ Procesando con Gemini...
   ğŸ¤– Extrayendo con gemini-2.5-flash...
   ğŸ“„ Leyendo archivo: /Users/alec/salfagpt/upload-queue/M3-v2-20251125/DOCUMENTOS PORTAL EDIFICACIÃ“N/Primera carga de documentacion/3. PANEL FINANCIERO/GOP-P-PF-3.PROCESO PANEL FINANCIERO PROYECTOS AFECTOS-(V.1) (1).PDF
   ğŸ“Š TamaÃ±o: 1944.07 KB
   ğŸ”„ Enviando a Gemini AI...
...................................